"use strict";(self.webpackChunk_corn12138_hooks=self.webpackChunk_corn12138_hooks||[]).push([[550],{11553:function(u,t,s){s.r(t);var r=s(63978),o=s(14023),x=s(3813),h=s(42469),j=s(19341),d=s(9805),c=s(97722),v=s(27804),a=s(46510),i=s(81576),l=s(44194),n=s(80983),e=s(31549);function _(){return(0,e.jsx)(a.dY,{children:(0,e.jsx)(l.Suspense,{fallback:(0,e.jsx)(i.Z,{}),children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h1",{id:"usenetworkstatus",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#usenetworkstatus",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"useNetworkStatus"]}),(0,e.jsx)("p",{children:n.texts[0].value}),(0,e.jsxs)("h2",{id:"\u57FA\u672C\u7528\u6CD5",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u57FA\u672C\u7528\u6CD5",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u57FA\u672C\u7528\u6CD5"]})]}),(0,e.jsx)(a.Dl,{demo:{id:"src-use-network-status-demo-0"},previewerProps:{}}),(0,e.jsx)("div",{className:"markdown",children:(0,e.jsxs)("h2",{id:"\u9AD8\u7EA7\u7528\u6CD5",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u9AD8\u7EA7\u7528\u6CD5",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u9AD8\u7EA7\u7528\u6CD5"]})}),(0,e.jsx)(a.Dl,{demo:{id:"src-use-network-status-demo-1"},previewerProps:{}}),(0,e.jsx)("div",{className:"markdown",children:(0,e.jsxs)("h2",{id:"\u79BB\u7EBF\u5904\u7406",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u79BB\u7EBF\u5904\u7406",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u79BB\u7EBF\u5904\u7406"]})}),(0,e.jsx)(a.Dl,{demo:{id:"src-use-network-status-demo-2"},previewerProps:{}}),(0,e.jsx)("div",{className:"markdown",children:(0,e.jsxs)("h2",{id:"\u7F51\u7EDC\u8D28\u91CF\u76D1\u63A7",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u7F51\u7EDC\u8D28\u91CF\u76D1\u63A7",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u7F51\u7EDC\u8D28\u91CF\u76D1\u63A7"]})}),(0,e.jsx)(a.Dl,{demo:{id:"src-use-network-status-demo-3"},previewerProps:{}}),(0,e.jsx)("div",{className:"markdown",children:(0,e.jsxs)("h2",{id:"\u5B9E\u9645\u5E94\u7528",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u5B9E\u9645\u5E94\u7528",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u5B9E\u9645\u5E94\u7528"]})}),(0,e.jsx)(a.Dl,{demo:{id:"src-use-network-status-demo-4"},previewerProps:{}}),(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h2",{id:"api",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#api",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"API"]}),(0,e.jsxs)("h3",{id:"\u53C2\u6570",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u53C2\u6570",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u53C2\u6570"]}),(0,e.jsxs)(c.Z,{children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:n.texts[1].value}),(0,e.jsx)("th",{children:n.texts[2].value}),(0,e.jsx)("th",{children:n.texts[3].value}),(0,e.jsx)("th",{children:n.texts[4].value})]})}),(0,e.jsx)("tbody",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:n.texts[5].value}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:n.texts[6].value})}),(0,e.jsx)("td",{children:n.texts[7].value}),(0,e.jsx)("td",{children:n.texts[8].value})]})})]}),(0,e.jsxs)("h3",{id:"usenetworkstatusoptions",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#usenetworkstatusoptions",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"UseNetworkStatusOptions"]}),(0,e.jsxs)(c.Z,{children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:n.texts[9].value}),(0,e.jsx)("th",{children:n.texts[10].value}),(0,e.jsx)("th",{children:n.texts[11].value}),(0,e.jsx)("th",{children:n.texts[12].value})]})}),(0,e.jsxs)("tbody",{children:[(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:n.texts[13].value}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:n.texts[14].value})}),(0,e.jsx)("td",{children:n.texts[15].value}),(0,e.jsx)("td",{children:n.texts[16].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:n.texts[17].value}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:n.texts[18].value})}),(0,e.jsx)("td",{children:n.texts[19].value}),(0,e.jsx)("td",{children:n.texts[20].value})]})]})]}),(0,e.jsxs)("h3",{id:"\u8FD4\u56DE\u503C",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u8FD4\u56DE\u503C",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u8FD4\u56DE\u503C"]}),(0,e.jsxs)("p",{children:[n.texts[21].value,(0,e.jsx)("code",{children:n.texts[22].value}),n.texts[23].value]}),(0,e.jsxs)(c.Z,{children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:n.texts[24].value}),(0,e.jsx)("th",{children:n.texts[25].value}),(0,e.jsx)("th",{children:n.texts[26].value})]})}),(0,e.jsxs)("tbody",{children:[(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:n.texts[27].value}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:n.texts[28].value})}),(0,e.jsx)("td",{children:n.texts[29].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:n.texts[30].value}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:n.texts[31].value})}),(0,e.jsx)("td",{children:n.texts[32].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:n.texts[33].value}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:n.texts[34].value})}),(0,e.jsx)("td",{children:n.texts[35].value})]})]})]}),(0,e.jsxs)("h2",{id:"\u4F7F\u7528\u573A\u666F",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u4F7F\u7528\u573A\u666F",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u4F7F\u7528\u573A\u666F"]}),(0,e.jsxs)("h3",{id:"1-\u79BB\u7EBF\u63D0\u793A",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#1-\u79BB\u7EBF\u63D0\u793A",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"1. \u79BB\u7EBF\u63D0\u793A"]}),(0,e.jsx)(d.Z,{lang:"javascript",children:n.texts[36].value}),(0,e.jsxs)("h3",{id:"2-\u6761\u4EF6\u529F\u80FD\u7981\u7528",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#2-\u6761\u4EF6\u529F\u80FD\u7981\u7528",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"2. \u6761\u4EF6\u529F\u80FD\u7981\u7528"]}),(0,e.jsx)(d.Z,{lang:"javascript",children:n.texts[37].value}),(0,e.jsxs)("h3",{id:"3-\u6570\u636E\u540C\u6B65\u72B6\u6001",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#3-\u6570\u636E\u540C\u6B65\u72B6\u6001",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"3. \u6570\u636E\u540C\u6B65\u72B6\u6001"]}),(0,e.jsx)(d.Z,{lang:"javascript",children:n.texts[38].value}),(0,e.jsxs)("h2",{id:"\u6700\u4F73\u5B9E\u8DF5",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u6700\u4F73\u5B9E\u8DF5",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u6700\u4F73\u5B9E\u8DF5"]}),(0,e.jsxs)("h3",{id:"1-\u4F18\u96C5\u964D\u7EA7",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#1-\u4F18\u96C5\u964D\u7EA7",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"1. \u4F18\u96C5\u964D\u7EA7"]}),(0,e.jsx)(d.Z,{lang:"javascript",children:n.texts[39].value}),(0,e.jsxs)("h3",{id:"2-\u9519\u8BEF\u8FB9\u754C",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#2-\u9519\u8BEF\u8FB9\u754C",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"2. \u9519\u8BEF\u8FB9\u754C"]}),(0,e.jsx)(d.Z,{lang:"javascript",children:n.texts[40].value}),(0,e.jsxs)("h3",{id:"3-\u6027\u80FD\u4F18\u5316",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#3-\u6027\u80FD\u4F18\u5316",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"3. \u6027\u80FD\u4F18\u5316"]}),(0,e.jsx)(d.Z,{lang:"javascript",children:n.texts[41].value}),(0,e.jsxs)("h2",{id:"\u6CE8\u610F\u4E8B\u9879",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u6CE8\u610F\u4E8B\u9879",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u6CE8\u610F\u4E8B\u9879"]}),(0,e.jsxs)("ol",{children:[(0,e.jsxs)("li",{children:[(0,e.jsx)("strong",{children:n.texts[42].value}),n.texts[43].value,(0,e.jsx)("code",{children:n.texts[44].value}),n.texts[45].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("strong",{children:n.texts[46].value}),n.texts[47].value,(0,e.jsx)("code",{children:n.texts[48].value}),n.texts[49].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("strong",{children:n.texts[50].value}),n.texts[51].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("strong",{children:n.texts[52].value}),n.texts[53].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("strong",{children:n.texts[54].value}),n.texts[55].value]})]})]})]})})})}t.default=_},80983:function(u,t,s){s.r(t),s.d(t,{texts:function(){return r}});const r=[{value:"\u7528\u4E8E\u76D1\u63A7\u7F51\u7EDC\u72B6\u6001\u7684 React Hook\u3002",paraId:0,tocIndex:0},{value:"\u53C2\u6570",paraId:1,tocIndex:7},{value:"\u7C7B\u578B",paraId:1,tocIndex:7},{value:"\u5FC5\u586B",paraId:1,tocIndex:7},{value:"\u63CF\u8FF0",paraId:1,tocIndex:7},{value:"options",paraId:1,tocIndex:7},{value:"UseNetworkStatusOptions",paraId:1,tocIndex:7},{value:"\u274C",paraId:1,tocIndex:7},{value:"\u914D\u7F6E\u9009\u9879",paraId:1,tocIndex:7},{value:"\u5C5E\u6027",paraId:2,tocIndex:8},{value:"\u7C7B\u578B",paraId:2,tocIndex:8},{value:"\u9ED8\u8BA4\u503C",paraId:2,tocIndex:8},{value:"\u63CF\u8FF0",paraId:2,tocIndex:8},{value:"onOnline",paraId:2,tocIndex:8},{value:"() => void",paraId:2,tocIndex:8},{value:"-",paraId:2,tocIndex:8},{value:"\u7F51\u7EDC\u8FDE\u63A5\u56DE\u8C03",paraId:2,tocIndex:8},{value:"onOffline",paraId:2,tocIndex:8},{value:"() => void",paraId:2,tocIndex:8},{value:"-",paraId:2,tocIndex:8},{value:"\u7F51\u7EDC\u65AD\u5F00\u56DE\u8C03",paraId:2,tocIndex:8},{value:"\u8FD4\u56DE ",paraId:3,tocIndex:9},{value:"UseNetworkStatusReturn",paraId:3,tocIndex:9},{value:" \u5BF9\u8C61\uFF1A",paraId:3,tocIndex:9},{value:"\u5C5E\u6027",paraId:4,tocIndex:9},{value:"\u7C7B\u578B",paraId:4,tocIndex:9},{value:"\u63CF\u8FF0",paraId:4,tocIndex:9},{value:"isOnline",paraId:4,tocIndex:9},{value:"boolean",paraId:4,tocIndex:9},{value:"\u662F\u5426\u5728\u7EBF",paraId:4,tocIndex:9},{value:"reconnect",paraId:4,tocIndex:9},{value:"() => void",paraId:4,tocIndex:9},{value:"\u91CD\u65B0\u68C0\u6D4B\u8FDE\u63A5",paraId:4,tocIndex:9},{value:"checkConnectivity",paraId:4,tocIndex:9},{value:"() => Promise<boolean>",paraId:4,tocIndex:9},{value:"\u5F02\u6B65\u68C0\u6D4B\u8FDE\u901A\u6027",paraId:4,tocIndex:9},{value:`function OfflineNotification() {
  const { isOnline } = useNetworkStatus();
  
  if (isOnline) return null;
  
  return (
    <div style={{
      position: 'fixed',
      top: 0,
      left: 0,
      right: 0,
      backgroundColor: '#dc3545',
      color: 'white',
      padding: '12px',
      textAlign: 'center',
      zIndex: 9999
    }}>
      \u26A0\uFE0F \u7F51\u7EDC\u8FDE\u63A5\u5DF2\u65AD\u5F00\uFF0C\u67D0\u4E9B\u529F\u80FD\u53EF\u80FD\u65E0\u6CD5\u4F7F\u7528
    </div>
  );
}
`,paraId:5,tocIndex:11},{value:`function NetworkDependentFeatures() {
  const { isOnline } = useNetworkStatus();
  
  return (
    <div>
      <button disabled={!isOnline}>
        \u5728\u7EBF\u804A\u5929 {!isOnline && '(\u9700\u8981\u7F51\u7EDC\u8FDE\u63A5)'}
      </button>
      
      <button disabled={!isOnline}>
        \u540C\u6B65\u6570\u636E {!isOnline && '(\u79BB\u7EBF\u6A21\u5F0F)'}
      </button>
      
      <button>
        \u79BB\u7EBF\u9605\u8BFB (\u59CB\u7EC8\u53EF\u7528)
      </button>
    </div>
  );
}
`,paraId:6,tocIndex:12},{value:`function DataSyncStatus() {
  const { isOnline } = useNetworkStatus({
    onOnline: () => {
      // \u7F51\u7EDC\u6062\u590D\u65F6\u81EA\u52A8\u540C\u6B65
      syncPendingData();
    }
  });
  
  const syncPendingData = async () => {
    // \u540C\u6B65\u903B\u8F91
    console.log('\u5F00\u59CB\u540C\u6B65\u6570\u636E...');
  };
  
  return (
    <div>
      <h3>\u6570\u636E\u540C\u6B65</h3>
      <p>\u72B6\u6001: {isOnline ? '\u5B9E\u65F6\u540C\u6B65' : '\u79BB\u7EBF\u6A21\u5F0F'}</p>
      {!isOnline && <p>\u7F51\u7EDC\u6062\u590D\u540E\u5C06\u81EA\u52A8\u540C\u6B65\u6570\u636E</p>}
    </div>
  );
}
`,paraId:7,tocIndex:13},{value:`function GracefulDegradation() {
  const { isOnline } = useNetworkStatus();
  
  return (
    <div>
      {isOnline ? (
        <LiveDataComponent />
      ) : (
        <CachedDataComponent />
      )}
    </div>
  );
}
`,paraId:8,tocIndex:15},{value:`function NetworkAwareErrorBoundary({ children }) {
  const { isOnline } = useNetworkStatus();
  
  // \u6839\u636E\u7F51\u7EDC\u72B6\u6001\u663E\u793A\u4E0D\u540C\u7684\u9519\u8BEF\u63D0\u793A
  return (
    <ErrorBoundary
      fallback={isOnline ? <OnlineErrorUI /> : <OfflineErrorUI />}
    >
      {children}
    </ErrorBoundary>
  );
}
`,paraId:9,tocIndex:16},{value:`// \u907F\u514D\u8FC7\u5EA6\u68C0\u6D4B
const { isOnline, checkConnectivity } = useNetworkStatus();

// \u4F7F\u7528\u9632\u6296\u907F\u514D\u9891\u7E41\u68C0\u6D4B
const debouncedCheck = useDebouncedCallback(checkConnectivity, 1000);
`,paraId:10,tocIndex:17},{value:"\u6D4F\u89C8\u5668\u517C\u5BB9\u6027",paraId:11,tocIndex:18},{value:"\uFF1A\u4F9D\u8D56 ",paraId:11,tocIndex:18},{value:"navigator.onLine",paraId:11,tocIndex:18},{value:" API\uFF0C\u5728\u67D0\u4E9B\u73AF\u5883\u4E0B\u53EF\u80FD\u4E0D\u51C6\u786E",paraId:11,tocIndex:18},{value:"\u8FDE\u901A\u6027\u68C0\u6D4B",paraId:11,tocIndex:18},{value:"\uFF1A\u9ED8\u8BA4\u8BF7\u6C42 ",paraId:11,tocIndex:18},{value:"/ping",paraId:11,tocIndex:18},{value:" \u7AEF\u70B9\uFF0C\u9700\u8981\u670D\u52A1\u5668\u652F\u6301\u6216\u81EA\u5B9A\u4E49\u68C0\u6D4B\u903B\u8F91",paraId:11,tocIndex:18},{value:"\u9690\u79C1\u8003\u8651",paraId:11,tocIndex:18},{value:"\uFF1A\u9891\u7E41\u7684\u7F51\u7EDC\u68C0\u6D4B\u53EF\u80FD\u4EA7\u751F\u989D\u5916\u6D41\u91CF",paraId:11,tocIndex:18},{value:"\u79FB\u52A8\u7AEF",paraId:11,tocIndex:18},{value:"\uFF1A\u79FB\u52A8\u8BBE\u5907\u7684\u7F51\u7EDC\u72B6\u6001\u53D8\u5316\u66F4\u9891\u7E41\uFF0C\u9700\u8981\u9002\u5F53\u7684\u9632\u6296\u5904\u7406",paraId:11,tocIndex:18},{value:"\u670D\u52A1\u7AEF\u6E32\u67D3",paraId:11,tocIndex:18},{value:"\uFF1A\u5728 SSR \u73AF\u5883\u4E2D\u9ED8\u8BA4\u8FD4\u56DE\u5728\u7EBF\u72B6\u6001",paraId:11,tocIndex:18}]}}]);
