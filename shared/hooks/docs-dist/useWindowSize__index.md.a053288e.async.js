"use strict";(self.webpackChunk_corn12138_hooks=self.webpackChunk_corn12138_hooks||[]).push([[112],{32327:function(u,i,d){d.r(i);var l=d(63978),_=d(14023),x=d(3813),h=d(42469),p=d(19341),a=d(9805),t=d(97722),j=d(27804),s=d(46510),r=d(81576),c=d(44194),n=d(41383),e=d(31549);function o(){return(0,e.jsx)(s.dY,{children:(0,e.jsx)(c.Suspense,{fallback:(0,e.jsx)(r.Z,{}),children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h1",{id:"usewindowsize",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#usewindowsize",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"useWindowSize"]}),(0,e.jsx)("p",{children:n.texts[0].value}),(0,e.jsxs)("h2",{id:"\u57FA\u672C\u7528\u6CD5",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u57FA\u672C\u7528\u6CD5",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u57FA\u672C\u7528\u6CD5"]})]}),(0,e.jsx)(s.Dl,{demo:{id:"src-use-window-size-demo-0"},previewerProps:{}}),(0,e.jsx)("div",{className:"markdown",children:(0,e.jsxs)("h2",{id:"\u54CD\u5E94\u5F0F\u7EC4\u4EF6",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u54CD\u5E94\u5F0F\u7EC4\u4EF6",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u54CD\u5E94\u5F0F\u7EC4\u4EF6"]})}),(0,e.jsx)(s.Dl,{demo:{id:"src-use-window-size-demo-1"},previewerProps:{}}),(0,e.jsx)("div",{className:"markdown",children:(0,e.jsxs)("h2",{id:"\u52A8\u6001\u6837\u5F0F",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u52A8\u6001\u6837\u5F0F",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u52A8\u6001\u6837\u5F0F"]})}),(0,e.jsx)(s.Dl,{demo:{id:"src-use-window-size-demo-2"},previewerProps:{}}),(0,e.jsx)("div",{className:"markdown",children:(0,e.jsxs)("h2",{id:"\u6027\u80FD\u4F18\u5316",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u6027\u80FD\u4F18\u5316",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u6027\u80FD\u4F18\u5316"]})}),(0,e.jsx)(s.Dl,{demo:{id:"src-use-window-size-demo-3"},previewerProps:{}}),(0,e.jsx)("div",{className:"markdown",children:(0,e.jsxs)("h2",{id:"\u6761\u4EF6\u6E32\u67D3",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u6761\u4EF6\u6E32\u67D3",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u6761\u4EF6\u6E32\u67D3"]})}),(0,e.jsx)(s.Dl,{demo:{id:"src-use-window-size-demo-4"},previewerProps:{}}),(0,e.jsx)("div",{className:"markdown",children:(0,e.jsxs)("h2",{id:"\u56FE\u7247\u54CD\u5E94\u5F0F",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u56FE\u7247\u54CD\u5E94\u5F0F",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u56FE\u7247\u54CD\u5E94\u5F0F"]})}),(0,e.jsx)(s.Dl,{demo:{id:"src-use-window-size-demo-5"},previewerProps:{}}),(0,e.jsx)("div",{className:"markdown",children:(0,e.jsxs)("h2",{id:"\u865A\u62DF\u6EDA\u52A8",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u865A\u62DF\u6EDA\u52A8",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u865A\u62DF\u6EDA\u52A8"]})}),(0,e.jsx)(s.Dl,{demo:{id:"src-use-window-size-demo-6"},previewerProps:{}}),(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h2",{id:"api",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#api",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"API"]}),(0,e.jsxs)("h3",{id:"\u53C2\u6570",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u53C2\u6570",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u53C2\u6570"]}),(0,e.jsxs)(t.Z,{children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:n.texts[1].value}),(0,e.jsx)("th",{children:n.texts[2].value}),(0,e.jsx)("th",{children:n.texts[3].value}),(0,e.jsx)("th",{children:n.texts[4].value})]})}),(0,e.jsx)("tbody",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:n.texts[5].value}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:n.texts[6].value})}),(0,e.jsx)("td",{children:n.texts[7].value}),(0,e.jsx)("td",{children:n.texts[8].value})]})})]}),(0,e.jsxs)("h3",{id:"usewindowsizeoptions",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#usewindowsizeoptions",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"UseWindowSizeOptions"]}),(0,e.jsxs)(t.Z,{children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:n.texts[9].value}),(0,e.jsx)("th",{children:n.texts[10].value}),(0,e.jsx)("th",{children:n.texts[11].value}),(0,e.jsx)("th",{children:n.texts[12].value})]})}),(0,e.jsxs)("tbody",{children:[(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:n.texts[13].value}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:n.texts[14].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:n.texts[15].value})}),(0,e.jsx)("td",{children:n.texts[16].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:n.texts[17].value}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:n.texts[18].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:n.texts[19].value})}),(0,e.jsx)("td",{children:n.texts[20].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:n.texts[21].value}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:n.texts[22].value})}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:n.texts[23].value})}),(0,e.jsx)("td",{children:n.texts[24].value})]})]})]}),(0,e.jsxs)("h3",{id:"\u8FD4\u56DE\u503C",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u8FD4\u56DE\u503C",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u8FD4\u56DE\u503C"]}),(0,e.jsxs)("p",{children:[n.texts[25].value,(0,e.jsx)("code",{children:n.texts[26].value}),n.texts[27].value]}),(0,e.jsxs)(t.Z,{children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:n.texts[28].value}),(0,e.jsx)("th",{children:n.texts[29].value}),(0,e.jsx)("th",{children:n.texts[30].value})]})}),(0,e.jsxs)("tbody",{children:[(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:n.texts[31].value}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:n.texts[32].value})}),(0,e.jsx)("td",{children:n.texts[33].value})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:n.texts[34].value}),(0,e.jsx)("td",{children:(0,e.jsx)("code",{children:n.texts[35].value})}),(0,e.jsx)("td",{children:n.texts[36].value})]})]})]}),(0,e.jsxs)("h2",{id:"\u4F7F\u7528\u573A\u666F",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u4F7F\u7528\u573A\u666F",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u4F7F\u7528\u573A\u666F"]}),(0,e.jsxs)("h3",{id:"1-\u54CD\u5E94\u5F0F\u7EC4\u4EF6",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#1-\u54CD\u5E94\u5F0F\u7EC4\u4EF6",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"1. \u54CD\u5E94\u5F0F\u7EC4\u4EF6"]}),(0,e.jsx)(a.Z,{lang:"javascript",children:n.texts[37].value}),(0,e.jsxs)("h3",{id:"2-\u5BFC\u822A\u680F\u9002\u914D",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#2-\u5BFC\u822A\u680F\u9002\u914D",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"2. \u5BFC\u822A\u680F\u9002\u914D"]}),(0,e.jsx)(a.Z,{lang:"javascript",children:n.texts[38].value}),(0,e.jsxs)("h3",{id:"3-\u6A21\u6001\u6846\u9002\u914D",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#3-\u6A21\u6001\u6846\u9002\u914D",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"3. \u6A21\u6001\u6846\u9002\u914D"]}),(0,e.jsx)(a.Z,{lang:"javascript",children:n.texts[39].value}),(0,e.jsxs)("h2",{id:"\u6700\u4F73\u5B9E\u8DF5",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u6700\u4F73\u5B9E\u8DF5",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u6700\u4F73\u5B9E\u8DF5"]}),(0,e.jsxs)("h3",{id:"1-\u6027\u80FD\u4F18\u5316",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#1-\u6027\u80FD\u4F18\u5316",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"1. \u6027\u80FD\u4F18\u5316"]}),(0,e.jsx)(a.Z,{lang:"javascript",children:n.texts[40].value}),(0,e.jsxs)("h3",{id:"2-\u670D\u52A1\u7AEF\u6E32\u67D3",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#2-\u670D\u52A1\u7AEF\u6E32\u67D3",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"2. \u670D\u52A1\u7AEF\u6E32\u67D3"]}),(0,e.jsx)(a.Z,{lang:"javascript",children:n.texts[41].value}),(0,e.jsxs)("h3",{id:"3-\u6761\u4EF6\u6E32\u67D3\u4F18\u5316",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#3-\u6761\u4EF6\u6E32\u67D3\u4F18\u5316",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"3. \u6761\u4EF6\u6E32\u67D3\u4F18\u5316"]}),(0,e.jsx)(a.Z,{lang:"javascript",children:n.texts[42].value}),(0,e.jsxs)("h2",{id:"\u6CE8\u610F\u4E8B\u9879",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u6CE8\u610F\u4E8B\u9879",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u6CE8\u610F\u4E8B\u9879"]}),(0,e.jsxs)("ol",{children:[(0,e.jsxs)("li",{children:[(0,e.jsx)("strong",{children:n.texts[43].value}),n.texts[44].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("strong",{children:n.texts[45].value}),n.texts[46].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("strong",{children:n.texts[47].value}),n.texts[48].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("strong",{children:n.texts[49].value}),n.texts[50].value]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("strong",{children:n.texts[51].value}),n.texts[52].value]})]})]})]})})})}i.default=o},41383:function(u,i,d){d.r(i),d.d(i,{texts:function(){return l}});const l=[{value:"\u7528\u4E8E\u83B7\u53D6\u7A97\u53E3\u5C3A\u5BF8\u7684 React Hook\u3002",paraId:0,tocIndex:0},{value:"\u53C2\u6570",paraId:1,tocIndex:9},{value:"\u7C7B\u578B",paraId:1,tocIndex:9},{value:"\u5FC5\u586B",paraId:1,tocIndex:9},{value:"\u63CF\u8FF0",paraId:1,tocIndex:9},{value:"options",paraId:1,tocIndex:9},{value:"UseWindowSizeOptions",paraId:1,tocIndex:9},{value:"\u274C",paraId:1,tocIndex:9},{value:"\u914D\u7F6E\u9009\u9879",paraId:1,tocIndex:9},{value:"\u5C5E\u6027",paraId:2,tocIndex:10},{value:"\u7C7B\u578B",paraId:2,tocIndex:10},{value:"\u9ED8\u8BA4\u503C",paraId:2,tocIndex:10},{value:"\u63CF\u8FF0",paraId:2,tocIndex:10},{value:"debounceMs",paraId:2,tocIndex:10},{value:"number",paraId:2,tocIndex:10},{value:"100",paraId:2,tocIndex:10},{value:"\u9632\u6296\u5EF6\u8FDF\u65F6\u95F4\uFF08\u6BEB\u79D2\uFF09",paraId:2,tocIndex:10},{value:"initialWidth",paraId:2,tocIndex:10},{value:"number",paraId:2,tocIndex:10},{value:"1024",paraId:2,tocIndex:10},{value:"SSR \u521D\u59CB\u5BBD\u5EA6",paraId:2,tocIndex:10},{value:"initialHeight",paraId:2,tocIndex:10},{value:"number",paraId:2,tocIndex:10},{value:"768",paraId:2,tocIndex:10},{value:"SSR \u521D\u59CB\u9AD8\u5EA6",paraId:2,tocIndex:10},{value:"\u8FD4\u56DE ",paraId:3,tocIndex:11},{value:"WindowSize",paraId:3,tocIndex:11},{value:" \u5BF9\u8C61\uFF1A",paraId:3,tocIndex:11},{value:"\u5C5E\u6027",paraId:4,tocIndex:11},{value:"\u7C7B\u578B",paraId:4,tocIndex:11},{value:"\u63CF\u8FF0",paraId:4,tocIndex:11},{value:"width",paraId:4,tocIndex:11},{value:"number",paraId:4,tocIndex:11},{value:"\u7A97\u53E3\u5BBD\u5EA6\uFF08\u50CF\u7D20\uFF09",paraId:4,tocIndex:11},{value:"height",paraId:4,tocIndex:11},{value:"number",paraId:4,tocIndex:11},{value:"\u7A97\u53E3\u9AD8\u5EA6\uFF08\u50CF\u7D20\uFF09",paraId:4,tocIndex:11},{value:`function ResponsiveGrid() {
  const { width } = useWindowSize();
  
  const columns = width < 768 ? 1 : width < 1200 ? 2 : 3;
  
  return (
    <div style={{
      display: 'grid',
      gridTemplateColumns: \`repeat(\${columns}, 1fr)\`,
      gap: '16px'
    }}>
      {Array.from({ length: 6 }, (_, i) => (
        <div key={i} style={{ 
          padding: '20px', 
          backgroundColor: '#f0f0f0',
          textAlign: 'center'
        }}>
          \u9879\u76EE {i + 1}
        </div>
      ))}
    </div>
  );
}
`,paraId:5,tocIndex:13},{value:`function ResponsiveNavbar() {
  const { width } = useWindowSize();
  const isMobile = width < 768;
  
  return (
    <nav style={{
      display: 'flex',
      justifyContent: 'space-between',
      alignItems: 'center',
      padding: '12px 20px',
      backgroundColor: '#333',
      color: 'white'
    }}>
      <div>Logo</div>
      
      {isMobile ? (
        <button>\u2630</button>
      ) : (
        <div style={{ display: 'flex', gap: '20px' }}>
          <a href="#home">\u9996\u9875</a>
          <a href="#about">\u5173\u4E8E</a>
          <a href="#services">\u670D\u52A1</a>
          <a href="#contact">\u8054\u7CFB</a>
        </div>
      )}
    </nav>
  );
}
`,paraId:6,tocIndex:14},{value:`function ResponsiveModal({ isOpen, onClose, children }) {
  const { width, height } = useWindowSize();
  const isMobile = width < 768;
  
  if (!isOpen) return null;
  
  const modalStyle = isMobile ? {
    position: 'fixed',
    top: 0,
    left: 0,
    width: '100%',
    height: '100%',
    backgroundColor: 'white',
    zIndex: 1000,
    overflow: 'auto'
  } : {
    position: 'fixed',
    top: '50%',
    left: '50%',
    transform: 'translate(-50%, -50%)',
    width: Math.min(600, width - 40),
    maxHeight: height - 40,
    backgroundColor: 'white',
    borderRadius: '8px',
    boxShadow: '0 4px 20px rgba(0,0,0,0.3)',
    zIndex: 1000,
    overflow: 'auto'
  };
  
  return (
    <>
      <div 
        style={{
          position: 'fixed',
          top: 0,
          left: 0,
          width: '100%',
          height: '100%',
          backgroundColor: 'rgba(0,0,0,0.5)',
          zIndex: 999
        }}
        onClick={onClose}
      />
      <div style={modalStyle}>
        {isMobile && (
          <div style={{ 
            padding: '12px', 
            borderBottom: '1px solid #eee',
            display: 'flex',
            justifyContent: 'space-between',
            alignItems: 'center'
          }}>
            <h3>\u6807\u9898</h3>
            <button onClick={onClose}>\xD7</button>
          </div>
        )}
        <div style={{ padding: '20px' }}>
          {children}
        </div>
      </div>
    </>
  );
}
`,paraId:7,tocIndex:15},{value:`// \u4F7F\u7528\u5408\u9002\u7684\u9632\u6296\u65F6\u95F4
const { width } = useWindowSize({
  debounceMs: 150 // \u5E73\u8861\u54CD\u5E94\u6027\u548C\u6027\u80FD
});

// \u907F\u514D\u5728 render \u4E2D\u8FDB\u884C\u590D\u6742\u8BA1\u7B97
const layout = useMemo(() => {
  return calculateLayout(width);
}, [width]);
`,paraId:8,tocIndex:17},{value:`// \u8BBE\u7F6E\u5408\u7406\u7684\u521D\u59CB\u503C\u907F\u514D\u6C34\u5408\u4E0D\u5339\u914D
const { width, height } = useWindowSize({
  initialWidth: 1200,  // \u5E38\u89C1\u684C\u9762\u5BBD\u5EA6
  initialHeight: 800   // \u5E38\u89C1\u684C\u9762\u9AD8\u5EA6
});

// \u5728\u5BA2\u6237\u7AEF\u6E32\u67D3\u5B8C\u6210\u524D\u663E\u793A\u9ED8\u8BA4\u5E03\u5C40
const [mounted, setMounted] = useState(false);
useEffect(() => setMounted(true), []);

if (!mounted) {
  return <DefaultLayout />;
}
`,paraId:9,tocIndex:18},{value:`// \u4F7F\u7528\u5E38\u91CF\u907F\u514D\u91CD\u590D\u8BA1\u7B97
const MOBILE_BREAKPOINT = 768;
const TABLET_BREAKPOINT = 1024;

function OptimizedComponent() {
  const { width } = useWindowSize();
  
  // \u7F13\u5B58\u65AD\u70B9\u5224\u65AD\u7ED3\u679C
  const deviceType = useMemo(() => {
    if (width < MOBILE_BREAKPOINT) return 'mobile';
    if (width < TABLET_BREAKPOINT) return 'tablet';
    return 'desktop';
  }, [width]);
  
  return (
    <div>
      {deviceType === 'mobile' && <MobileComponent />}
      {deviceType === 'tablet' && <TabletComponent />}
      {deviceType === 'desktop' && <DesktopComponent />}
    </div>
  );
}
`,paraId:10,tocIndex:19},{value:"\u9632\u6296\u8BBE\u7F6E",paraId:11,tocIndex:20},{value:"\uFF1A\u6839\u636E\u4F7F\u7528\u573A\u666F\u8BBE\u7F6E\u5408\u9002\u7684\u9632\u6296\u65F6\u95F4\uFF0C\u56FE\u8868\u7B49\u91CD\u6E32\u67D3\u7EC4\u4EF6\u5EFA\u8BAE\u4F7F\u7528\u66F4\u957F\u7684\u9632\u6296\u65F6\u95F4",paraId:11,tocIndex:20},{value:"\u670D\u52A1\u7AEF\u6E32\u67D3",paraId:11,tocIndex:20},{value:"\uFF1A\u5728 SSR \u73AF\u5883\u4E2D\u4F1A\u4F7F\u7528\u521D\u59CB\u503C\uFF0C\u9700\u8981\u5904\u7406\u5BA2\u6237\u7AEF\u6C34\u5408\u65F6\u7684\u5C3A\u5BF8\u5DEE\u5F02",paraId:11,tocIndex:20},{value:"\u6027\u80FD\u5F71\u54CD",paraId:11,tocIndex:20},{value:"\uFF1A\u9891\u7E41\u7684\u7A97\u53E3\u5927\u5C0F\u53D8\u5316\u53EF\u80FD\u5BFC\u81F4\u5927\u91CF\u91CD\u6E32\u67D3\uFF0C\u5EFA\u8BAE\u4F7F\u7528 useMemo \u4F18\u5316\u8BA1\u7B97",paraId:11,tocIndex:20},{value:"\u5185\u5B58\u6CC4\u6F0F",paraId:11,tocIndex:20},{value:"\uFF1AHook \u4F1A\u81EA\u52A8\u6E05\u7406\u4E8B\u4EF6\u76D1\u542C\u5668\uFF0C\u65E0\u9700\u624B\u52A8\u5904\u7406",paraId:11,tocIndex:20},{value:"\u79FB\u52A8\u7AEF",paraId:11,tocIndex:20},{value:"\uFF1A\u5728\u79FB\u52A8\u7AEF\u8981\u6CE8\u610F\u865A\u62DF\u952E\u76D8\u5F39\u51FA\u65F6\u4F1A\u6539\u53D8\u7A97\u53E3\u9AD8\u5EA6",paraId:11,tocIndex:20}]}}]);
