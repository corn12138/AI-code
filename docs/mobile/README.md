# ğŸ“± Mobile åº”ç”¨æ–‡æ¡£

åŸºäº React + SSR çš„ç§»åŠ¨ç«¯æŠ€æœ¯æ–‡ç« é˜…è¯»å¹³å°ï¼Œç°å·²å‡çº§ä¸ºä¸‰ç«¯ç»Ÿä¸€çš„ BFF æ¶æ„ï¼Œæ”¯æŒ Webã€iOSã€Android åŸç”Ÿåº”ç”¨çš„ç»Ÿä¸€æ•°æ®æœåŠ¡ã€‚

## ğŸš€ åº”ç”¨ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- **ä¸‰ç«¯ç»Ÿä¸€ API**: Webã€iOSã€Android å…±äº«åŒä¸€å¥— NestJS BFF æœåŠ¡
- **æ™ºèƒ½æ•°æ®è£å‰ª**: æ ¹æ®å®¢æˆ·ç«¯ç±»å‹è‡ªåŠ¨ä¼˜åŒ–æ•°æ®ä¼ è¾“
- **æœåŠ¡ç«¯æ¸²æŸ“ (SSR)**: æä¾›æ›´å¥½çš„ SEO å’Œé¦–å±åŠ è½½æ€§èƒ½
- **ç§»åŠ¨ç«¯ä¼˜åŒ–**: ä¸“ä¸ºç§»åŠ¨è®¾å¤‡è®¾è®¡çš„å“åº”å¼ç•Œé¢
- **æµå¼è¾“å‡º**: æ”¯æŒæµå¼ HTML è¾“å‡ºï¼Œæå‡ç”¨æˆ·ä½“éªŒ
- **æ•°æ®é¢„åŠ è½½**: æœåŠ¡ç«¯é¢„åŠ è½½æ•°æ®ï¼Œå‡å°‘å®¢æˆ·ç«¯è¯·æ±‚
- **åˆ†ç±»æµè§ˆ**: æ”¯æŒå‰ç«¯ã€åç«¯ã€AIã€ç§»åŠ¨ç«¯ã€è®¾è®¡ç­‰åˆ†ç±»
- **æ–‡ç« è¯¦æƒ…**: æ”¯æŒå¯Œæ–‡æœ¬å†…å®¹å±•ç¤º
- **æ€§èƒ½ä¼˜åŒ–**: ä»£ç åˆ†å‰²ã€æ‡’åŠ è½½ã€ç¼“å­˜ç­–ç•¥

### æŠ€æœ¯äº®ç‚¹
- **NestJS BFF æ¶æ„**: ä¸‰ç«¯ç»Ÿä¸€çš„ Backend for Frontend æœåŠ¡
- **å®¢æˆ·ç«¯é€‚é…å™¨**: è‡ªåŠ¨è¯†åˆ«å®¢æˆ·ç«¯ç±»å‹å¹¶ä¼˜åŒ–æ•°æ®å“åº”
- **å¤–éƒ¨æœåŠ¡é›†æˆ**: é¢„ç•™ Python/Go é«˜å¹¶å‘æœåŠ¡æ¥å£
- **è‡ªå®šä¹‰ SSR**: ä¸ä¾èµ– Next.js çš„æœåŠ¡ç«¯æ¸²æŸ“å®ç°
- **Vite + React**: ç°ä»£åŒ–çš„æ„å»ºå·¥å…·å’Œæ¡†æ¶
- **Tailwind CSS v4**: æœ€æ–°ç‰ˆæœ¬çš„æ ·å¼æ¡†æ¶
- **Zustand**: è½»é‡çº§çŠ¶æ€ç®¡ç†
- **Vitest æµ‹è¯•**: é«˜æ€§èƒ½æµ‹è¯•æ¡†æ¶

## ğŸ› ï¸ æŠ€æœ¯æ ˆè¯¦æƒ…

### æ ¸å¿ƒæ¡†æ¶
- **React**: 18.2.0 (UI åº“)
- **Vite**: 4.3.9 (æ„å»ºå·¥å…·)
- **TypeScript**: 5.0.4 (ç±»å‹å®‰å…¨)
- **Node.js**: 18+ (è¿è¡Œæ—¶ç¯å¢ƒ)

### çŠ¶æ€ç®¡ç†å’Œè·¯ç”±
- **Zustand**: 4.3.8 (çŠ¶æ€ç®¡ç†)
- **React Router**: 6.11.2 (å®¢æˆ·ç«¯è·¯ç”±)

### æ ·å¼å’Œ UI
- **Tailwind CSS**: v4.1.14 (å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶)
- **Lucide React**: 0.263.1 (å›¾æ ‡åº“)
- **clsx**: 2.0.0 (æ ·å¼ç±»åç®¡ç†)

### ç½‘ç»œå’Œé€šä¿¡
- **Axios**: 1.4.0 (HTTP å®¢æˆ·ç«¯)
- **Express**: 4.18.2 (æœåŠ¡ç«¯æ¡†æ¶)
- **CORS**: 2.8.5 (è·¨åŸŸæ”¯æŒ)
- **Compression**: 1.7.4 (å“åº”å‹ç¼©)

### é€šçŸ¥å’Œç”¨æˆ·ä½“éªŒ
- **React Hot Toast**: 2.5.2 (é€šçŸ¥ç³»ç»Ÿ)

### æµ‹è¯•æ¡†æ¶
- **Vitest**: 3.2.4 (æµ‹è¯•æ¡†æ¶)
- **Testing Library**: React ç»„ä»¶æµ‹è¯•
- **Coverage**: v8 ä»£ç è¦†ç›–ç‡

### å¼€å‘å·¥å…·
- **ESLint**: ä»£ç æ£€æŸ¥
- **Nodemon**: å¼€å‘æœåŠ¡å™¨çƒ­é‡è½½
- **ts-node**: TypeScript æ‰§è¡Œå™¨

## ğŸ“ é¡¹ç›®ç»“æ„

```
mobile/
â”œâ”€â”€ docs/                    # ğŸ“š æ–‡æ¡£ä¸­å¿ƒ
â”‚   â”œâ”€â”€ guides/             # ğŸ“– æŠ€æœ¯æŒ‡å—
â”‚   â”‚   â”œâ”€â”€ SSR_*.md        # ğŸ—ï¸ SSR ç›¸å…³æ–‡æ¡£
â”‚   â”‚   â””â”€â”€ api.md          # ğŸ“¡ API æ–‡æ¡£
â”‚   â”œâ”€â”€ reports/            # ğŸ“Š é¡¹ç›®æŠ¥å‘Š
â”‚   â””â”€â”€ README.md           # ğŸ“‹ æ–‡æ¡£ç´¢å¼•
â”œâ”€â”€ src/                    # ğŸ’» æºä»£ç 
â”‚   â”œâ”€â”€ components/         # ğŸ§© React ç»„ä»¶
â”‚   â”œâ”€â”€ pages/             # ğŸ“„ é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ store/             # ğŸ—„ï¸ çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ utils/             # ğŸ”§ å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ types/             # ğŸ“ ç±»å‹å®šä¹‰
â”œâ”€â”€ server/                 # ğŸ–¥ï¸ æœåŠ¡ç«¯ä»£ç 
â”œâ”€â”€ public/                 # ğŸŒ é™æ€èµ„æº
â””â”€â”€ test-results/           # ğŸ§ª æµ‹è¯•ç»“æœ
```

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 16
- pnpm >= 7

### å®‰è£…ä¾èµ–
```bash
pnpm install
```

### å¼€å‘æ¨¡å¼

#### å®¢æˆ·ç«¯å¼€å‘
```bash
pnpm dev
```
è®¿é—®: http://localhost:5173

#### SSR å¼€å‘
```bash
pnpm dev:ssr
```
è®¿é—®: http://localhost:3000

### æ„å»ºéƒ¨ç½²

#### æ„å»ºå®¢æˆ·ç«¯
```bash
pnpm build
```

#### æ„å»º SSR
```bash
pnpm build:ssr
```

#### æ„å»ºåŸç”Ÿç‰ˆæœ¬
```bash
pnpm build:native
```

## ğŸ“š è¯¦ç»†æ–‡æ¡£

### ğŸ—ï¸ SSR æ¶æ„æ–‡æ¡£
- [SSR å®ç°æŒ‡å—](./SSR_IMPLEMENTATION_GUIDE.md) - æœåŠ¡ç«¯æ¸²æŸ“å®ç°è¯¦è§£
- [SSR æ¶æ„æ·±åº¦è§£æ](./SSR_ARCHITECTURE_DEEP_DIVE.md) - SSR æ¶æ„è®¾è®¡åŸç†
- [SSR vs Next.js å¯¹æ¯”](./SSR_VS_NEXTJS_COMPARISON.md) - æŠ€æœ¯é€‰å‹å¯¹æ¯”åˆ†æ
- [SSR æ€§èƒ½ä¼˜åŒ–](./SSR_PERFORMANCE_OPTIMIZATION.md) - æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ

### ğŸ“Š é¡¹ç›®æŠ¥å‘Š
- [æµ‹è¯•å®Œæˆæ€»ç»“](./reports/MOBILE_TEST_SUMMARY.md) - æµ‹è¯•åŸºç¡€è®¾æ–½å’Œç»“æœ
- [Tailwind CSS æ£€æŸ¥æŠ¥å‘Š](./reports/TAILWIND_CHECK_REPORT.md) - Tailwind CSS é…ç½®æ£€æŸ¥
- [é…ç½®æ¸…ç†æŠ¥å‘Š](./reports/CLEANUP_REPORT.md) - é¡¹ç›®é…ç½®ä¼˜åŒ–æ¸…ç†
- [æ–‡æ¡£æ•´ç†æŠ¥å‘Š](./reports/DOCUMENTATION_CLEANUP_REPORT.md) - æ–‡æ¡£æ•´ç†è¿‡ç¨‹è®°å½•

## ğŸ¯ æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯
- **React 18**: ä½¿ç”¨æœ€æ–°çš„ React ç‰¹æ€§
- **TypeScript**: ç±»å‹å®‰å…¨çš„å¼€å‘ä½“éªŒ
- **Tailwind CSS v4**: æœ€æ–°ç‰ˆæœ¬çš„æ ·å¼æ¡†æ¶
- **Zustand**: è½»é‡çº§çŠ¶æ€ç®¡ç†
- **React Router**: å®¢æˆ·ç«¯è·¯ç”±
- **Lucide React**: ç°ä»£åŒ–å›¾æ ‡åº“

### åç«¯/SSR
- **Express**: Node.js æœåŠ¡å™¨æ¡†æ¶
- **React DOM Server**: æœåŠ¡ç«¯æ¸²æŸ“
- **Axios**: HTTP å®¢æˆ·ç«¯
- **Compression**: Gzip å‹ç¼©
- **CORS**: è·¨åŸŸèµ„æºå…±äº«

### æ„å»ºå·¥å…·
- **Vite**: å¿«é€Ÿçš„æ„å»ºå·¥å…·
- **TypeScript**: ç±»å‹æ£€æŸ¥
- **ESLint**: ä»£ç è´¨é‡æ£€æŸ¥
- **Vitest**: å•å…ƒæµ‹è¯•

## ğŸš€ éƒ¨ç½²

### Docker éƒ¨ç½²
```bash
# æ„å»ºé•œåƒ
docker build -t mobile-articles .

# è¿è¡Œå®¹å™¨
docker run -p 3000:3000 -e API_BASE_URL=http://your-api-server mobile-articles
```

### ä¼ ç»Ÿéƒ¨ç½²
```bash
# æ„å»ºé¡¹ç›®
pnpm build:ssr

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
NODE_ENV=production node server/index.js
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

- **ä»£ç åˆ†å‰²**: æŒ‰è·¯ç”±å’ŒåŠŸèƒ½æ¨¡å—åˆ†å‰²ä»£ç 
- **æ‡’åŠ è½½**: å›¾ç‰‡å’Œç»„ä»¶æ‡’åŠ è½½
- **ç¼“å­˜ç­–ç•¥**: é™æ€èµ„æºå’Œ API å“åº”ç¼“å­˜
- **å‹ç¼©**: Gzip å‹ç¼©å’Œèµ„æºå‹ç¼©
- **é¢„åŠ è½½**: å…³é”®èµ„æºé¢„åŠ è½½
- **SSR**: æœåŠ¡ç«¯æ¸²æŸ“æå‡é¦–å±æ€§èƒ½

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
pnpm test

# è¿è¡Œæµ‹è¯•å¹¶ç›‘å¬å˜åŒ–
pnpm test:watch

# ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
pnpm coverage
```

## ğŸ—ï¸ ä¸‰ç«¯ç»Ÿä¸€ BFF æ¶æ„

### æ¶æ„æ¦‚è¿°
Mobile åº”ç”¨ç°å·²å‡çº§ä¸ºä¸‰ç«¯ç»Ÿä¸€çš„ BFF (Backend for Frontend) æ¶æ„ï¼Œä¸º Webã€iOSã€Android åŸç”Ÿåº”ç”¨æä¾›ç»Ÿä¸€çš„æ•°æ®æœåŠ¡ã€‚

### æ ¸å¿ƒç»„ä»¶

#### 1. ç‰ˆæœ¬åŒ– API æ§åˆ¶å™¨
- **MobileV1Controller**: `/api/mobile/v1/*` - ç§»åŠ¨ç«¯ç»Ÿä¸€æ¥å£
- **WebV1Controller**: `/api/web/v1/*` - Web ç«¯å¢å¼ºæ¥å£
- **BaseController**: æä¾›é€šç”¨åŠŸèƒ½å’Œå®¢æˆ·ç«¯è¯†åˆ«

#### 2. æ™ºèƒ½æ•°æ®è£å‰ª
- **ClientAdapter**: æ ¹æ®å®¢æˆ·ç«¯ç±»å‹è‡ªåŠ¨è£å‰ªæ•°æ®
- **ClientTrimInterceptor**: è‡ªåŠ¨åº”ç”¨æ•°æ®è£å‰ª
- **å®¢æˆ·ç«¯èƒ½åŠ›é…ç½®**: ä¸åŒå¹³å°çš„æ–‡ä»¶æ ¼å¼ã€å¤§å°é™åˆ¶ç­‰

#### 3. å¤–éƒ¨æœåŠ¡é›†æˆ
- **ExternalServiceAdapter**: æ™ºèƒ½è·¯ç”±åˆ° Python/Go æœåŠ¡
- **é«˜å¹¶å‘æ¥å£**: æ–‡æ¡£æŸ¥è¯¢ã€æ¨èã€æœç´¢ã€ç»Ÿè®¡ç­‰
- **è‡ªåŠ¨å›é€€**: å¤–éƒ¨æœåŠ¡ä¸å¯ç”¨æ—¶å›é€€åˆ°æœ¬åœ°æœåŠ¡

### API æ¥å£è®¾è®¡

#### ç§»åŠ¨ç«¯ç»Ÿä¸€ API (`/api/mobile/v1/`)
```bash
GET    /api/mobile/v1/docs           # è·å–æ–‡æ¡£åˆ—è¡¨
GET    /api/mobile/v1/docs/:id       # è·å–æ–‡æ¡£è¯¦æƒ…
POST   /api/mobile/v1/docs           # åˆ›å»ºæ–‡æ¡£
PUT    /api/mobile/v1/docs/:id       # æ›´æ–°æ–‡æ¡£
DELETE /api/mobile/v1/docs/:id       # åˆ é™¤æ–‡æ¡£
POST   /api/mobile/v1/docs/batch     # æ‰¹é‡åˆ›å»ºæ–‡æ¡£
GET    /api/mobile/v1/categories     # è·å–åˆ†ç±»åˆ—è¡¨
```

#### Web ç«¯å¢å¼º API (`/api/web/v1/`)
```bash
GET    /api/web/v1/docs              # è·å–æ–‡æ¡£åˆ—è¡¨ï¼ˆåŒ…å«ç¼–è¾‘é“¾æ¥ï¼‰
GET    /api/web/v1/docs/:id          # è·å–æ–‡æ¡£è¯¦æƒ…ï¼ˆåŒ…å«å­—æ•°ç»Ÿè®¡ï¼‰
GET    /api/web/v1/docs/stats        # è·å–ç»Ÿè®¡ä¿¡æ¯
GET    /api/web/v1/docs/search       # å¢å¼ºæœç´¢åŠŸèƒ½
```

### å®¢æˆ·ç«¯è¯†åˆ«
```typescript
// è¯·æ±‚å¤´è®¾ç½®
'X-Client': 'ios' | 'android' | 'web'
'X-App-Version': '1.0.0'
'X-Platform': 'ios' | 'android' | 'web'
```

### æ•°æ®è£å‰ªç¤ºä¾‹
```typescript
// Web ç«¯ï¼šå®Œæ•´æ•°æ® + å…ƒæ•°æ®
{
  id: "doc-123",
  title: "æ–‡æ¡£æ ‡é¢˜",
  content: "æ–‡æ¡£å†…å®¹",
  _links: {
    self: "/api/web/v1/docs/doc-123",
    edit: "/api/web/v1/docs/doc-123/edit"
  }
}

// iOS ç«¯ï¼šç²¾ç®€æ•°æ® + ç§»åŠ¨ä¼˜åŒ–å­—æ®µ
{
  id: "doc-123",
  title: "æ–‡æ¡£æ ‡é¢˜",
  content: "æ–‡æ¡£å†…å®¹",
  _ios: {
    supportsOfflineReading: true,
    estimatedDataUsage: 2048
  }
}
```

### å¤–éƒ¨æœåŠ¡é›†æˆ
```typescript
// é¢„ç•™çš„é«˜å¹¶å‘æœåŠ¡æ¥å£
await externalService.getHighConcurrencyDocs(query);
await externalService.getRecommendations(userId);
await externalService.optimizedSearch(query);
```

## ğŸ“ˆ é¡¹ç›®çŠ¶æ€

- âœ… **Tailwind CSS v4**: å·²å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬
- âœ… **æµ‹è¯•è¦†ç›–**: å®Œæ•´çš„æµ‹è¯•åŸºç¡€è®¾æ–½
- âœ… **SSR æ”¯æŒ**: è‡ªå®šä¹‰æœåŠ¡ç«¯æ¸²æŸ“å®ç°
- âœ… **æ€§èƒ½ä¼˜åŒ–**: æ„å»ºå’Œè¿è¡Œæ—¶æ€§èƒ½ä¼˜åŒ–
- âœ… **æ–‡æ¡£å®Œå–„**: å®Œæ•´çš„æŠ€æœ¯æ–‡æ¡£
- âœ… **ä¸‰ç«¯ç»Ÿä¸€ BFF**: å·²å®Œæˆ NestJS BFF æ¶æ„å®æ–½
- âœ… **å®¢æˆ·ç«¯é€‚é…**: æ™ºèƒ½æ•°æ®è£å‰ªå’Œå®¢æˆ·ç«¯è¯†åˆ«
- âœ… **å¤–éƒ¨æœåŠ¡é›†æˆ**: é¢„ç•™ Python/Go é«˜å¹¶å‘æœåŠ¡æ¥å£

## ğŸ”— ç›¸å…³é“¾æ¥

- [åº”ç”¨æ ¹ç›®å½• README](../../apps/mobile/README.md)
- [Vite é…ç½®](../../apps/mobile/vite.config.ts)
- [Tailwind é…ç½®](../../apps/mobile/tailwind.config.ts)
- [æµ‹è¯•é…ç½®](../../apps/mobile/vitest.config.ts)
- [BFF å®æ–½æŠ¥å‘Š](../reports/project/MOBILE_BFF_IMPLEMENTATION_REPORT.md)
- [åŸç”Ÿåº”ç”¨ API é›†æˆåˆ†æ](../reports/project/NATIVE_APPS_API_INTEGRATION_ANALYSIS.md)

---

*æœ€åæ›´æ–°: 2025-01-03*
*ç»´æŠ¤è€…: AI Assistant*