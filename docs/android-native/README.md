# ğŸ¤– Android åŸç”Ÿåº”ç”¨æ–‡æ¡£

åŸºäº Kotlin çš„ Android åŸç”Ÿåº”ç”¨ï¼Œæ”¯æŒä¸ H5 ç§»åŠ¨ç«¯çš„æ··åˆå¼€å‘æ¨¡å¼ã€‚

## ğŸš€ åº”ç”¨ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- **åŸç”Ÿæ€§èƒ½**: åŸºäº Kotlin 1.8.10 çš„é«˜æ€§èƒ½åŸç”Ÿåº”ç”¨
- **æ··åˆå¼€å‘**: æ”¯æŒ H5 é¡µé¢åµŒå…¥å’ŒåŸç”Ÿé¡µé¢åˆ‡æ¢
- **WebView é›†æˆ**: æ— ç¼çš„ Web å†…å®¹å±•ç¤º
- **åŸç”ŸåŠŸèƒ½**: è®¿é—®è®¾å¤‡åŸç”ŸåŠŸèƒ½ï¼ˆç›¸æœºã€å­˜å‚¨ã€ç½‘ç»œçŠ¶æ€ï¼‰
- **ç¦»çº¿æ”¯æŒ**: æœ¬åœ°ç¼“å­˜å’Œç¦»çº¿åŠŸèƒ½
- **ä¸‰ç«¯ç»Ÿä¸€**: ä¸ iOSã€Web ç«¯å…±äº«åŒä¸€å¥— NestJS BFF API
- **æ¨é€é€šçŸ¥**: Firebase Cloud Messaging é›†æˆ

### æŠ€æœ¯äº®ç‚¹
- **Kotlin 1.8.10**: ç°ä»£åŒ–çš„ Android å¼€å‘è¯­è¨€
- **MVVM + Repository**: æ¸…æ™°çš„æ¶æ„æ¨¡å¼
- **Material Design Components**: ç°ä»£åŒ– UI è®¾è®¡
- **Retrofit + OkHttp**: å¼ºå¤§çš„ç½‘ç»œè¯·æ±‚åº“
- **Room Database**: æœ¬åœ°æ•°æ®å­˜å‚¨
- **Firebase é›†æˆ**: æ¨é€é€šçŸ¥å’Œåˆ†æ
- **å®Œæ•´æµ‹è¯•**: JUnit + Mockito + Espresso æµ‹è¯•ä½“ç³»

## ğŸ“ é¡¹ç›®ç»“æ„

```
android-native/
â”œâ”€â”€ app/                     # ğŸ“± åº”ç”¨ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main/           # ğŸ  ä¸»è¦ä»£ç 
â”‚   â”‚   â”‚   â”œâ”€â”€ java/       # â˜• Java ä»£ç 
â”‚   â”‚   â”‚   â”œâ”€â”€ kotlin/     # ğŸ¦ Kotlin ä»£ç 
â”‚   â”‚   â”‚   â””â”€â”€ res/        # ğŸ¨ èµ„æºæ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ test/           # ğŸ§ª å•å…ƒæµ‹è¯•
â”‚   â”‚   â””â”€â”€ androidTest/    # ğŸ”¬ é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ build.gradle        # ğŸ”§ æ„å»ºé…ç½®
â”œâ”€â”€ package.json            # ğŸ“¦ åŒ…ç®¡ç†
â”œâ”€â”€ README.md               # ğŸ“‹ é¡¹ç›®è¯´æ˜
â””â”€â”€ run-android.sh          # ğŸš€ è¿è¡Œè„šæœ¬
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆè¯¦æƒ…

### å¼€å‘ç¯å¢ƒ
- **Android Studio**: 2023.1+ (æœ€æ–°ç‰ˆæœ¬)
- **Kotlin**: 1.8.10 (ç¨³å®šç‰ˆæœ¬)
- **Android SDK**: 34 (API Level 34)
- **Gradle**: 8.0.2 (æ„å»ºå·¥å…·)
- **Build Tools**: 34.0.0

### æ ¸å¿ƒä¾èµ–
- **UI æ¡†æ¶**: Material Design Components
- **æ¶æ„ç»„ä»¶**: ViewModel, LiveData, Room
- **ç½‘ç»œè¯·æ±‚**: Retrofit 2.9.0 + OkHttp 4.11.0
- **å›¾ç‰‡åŠ è½½**: Glide 4.15.0
- **æœ¬åœ°å­˜å‚¨**: Room Database 2.5.0
- **æ¨é€é€šçŸ¥**: Firebase Cloud Messaging
- **æƒé™ç®¡ç†**: EasyPermissions
- **JSON è§£æ**: Gson 2.10.1

### æµ‹è¯•æ¡†æ¶
- **å•å…ƒæµ‹è¯•**: JUnit 5 + Mockito
- **UI æµ‹è¯•**: Espresso
- **é›†æˆæµ‹è¯•**: MockWebServer
- **ä»£ç è¦†ç›–ç‡**: JaCoCo

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- **Android Studio**: >= 2023.1
- **Android SDK**: 34 (compile_sdk, target_sdk)
- **Min SDK**: 21 (æ”¯æŒ Android 5.0+)
- **Java**: 11+ (JDK 11 æˆ–æ›´é«˜ç‰ˆæœ¬)
- **Kotlin**: 1.8.10
- **Gradle**: 8.0.2
- **Node.js**: >= 16 (ç”¨äºæ··åˆå¼€å‘)

### å®‰è£…ä¾èµ–
```bash
# å®‰è£… Node.js ä¾èµ–
pnpm install

# åŒæ­¥ç§»åŠ¨ç«¯ä»£ç 
./sync-mobile-to-android.sh
```

### å¼€å‘æ¨¡å¼

#### å¯åŠ¨ Android Studio
```bash
# æ‰“å¼€ Android Studio
open -a "Android Studio" .
```

#### è¿è¡Œåº”ç”¨
```bash
# ä½¿ç”¨è„šæœ¬è¿è¡Œ
./run-android.sh

# æˆ–ä½¿ç”¨ Gradle
cd app && ./gradlew assembleDebug
```

### æ„å»ºå‘å¸ƒ
```bash
# æ„å»ºè°ƒè¯•ç‰ˆæœ¬
cd app && ./gradlew assembleDebug

# æ„å»ºå‘å¸ƒç‰ˆæœ¬
cd app && ./gradlew assembleRelease
```

## ğŸ“š è¯¦ç»†æ–‡æ¡£

### ğŸ—ï¸ æ¶æ„è®¾è®¡
- **æ··åˆæ¶æ„**: H5 + åŸç”Ÿæ··åˆå¼€å‘æ¨¡å¼
- **WebView é›†æˆ**: æ— ç¼çš„ Web å†…å®¹å±•ç¤º
- **åŸç”ŸåŠŸèƒ½**: è®¾å¤‡åŠŸèƒ½è®¿é—®
- **æ€§èƒ½ä¼˜åŒ–**: å†…å­˜å’Œæ¸²æŸ“ä¼˜åŒ–

### ğŸ”§ å¼€å‘æŒ‡å—
- **Kotlin å¼€å‘**: ç°ä»£åŒ– Android å¼€å‘
- **Gradle é…ç½®**: æ„å»ºç³»ç»Ÿé…ç½®
- **æµ‹è¯•å¼€å‘**: å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- **æ€§èƒ½ä¼˜åŒ–**: åº”ç”¨æ€§èƒ½è°ƒä¼˜

## ğŸ¯ æŠ€æœ¯æ ˆ

### å¼€å‘è¯­è¨€
- **Kotlin**: ä¸»è¦å¼€å‘è¯­è¨€
- **Java**: å…¼å®¹æ€§æ”¯æŒ
- **XML**: å¸ƒå±€å’Œèµ„æºå®šä¹‰

### æ¡†æ¶å’Œåº“
- **Android SDK**: å®˜æ–¹å¼€å‘æ¡†æ¶
- **Material Design**: UI è®¾è®¡è§„èŒƒ
- **WebView**: æ··åˆå¼€å‘æ”¯æŒ
- **Gradle**: æ„å»ºç³»ç»Ÿ

### å¼€å‘å·¥å…·
- **Android Studio**: å®˜æ–¹ IDE
- **Gradle**: æ„å»ºå·¥å…·
- **ADB**: è°ƒè¯•å·¥å…·

## ğŸš€ éƒ¨ç½²

### è°ƒè¯•ç‰ˆæœ¬
```bash
# å®‰è£…åˆ°è®¾å¤‡
cd app && ./gradlew installDebug
```

### å‘å¸ƒç‰ˆæœ¬
```bash
# æ„å»ºå‘å¸ƒç‰ˆæœ¬
cd app && ./gradlew assembleRelease

# ç­¾åå’Œå‘å¸ƒ
cd app && ./gradlew bundleRelease
```

## ğŸ§ª æµ‹è¯•

### å•å…ƒæµ‹è¯•
```bash
cd app && ./gradlew testDebugUnitTest
```

### é›†æˆæµ‹è¯•
```bash
cd app && ./gradlew connectedDebugAndroidTest
```

### ä»£ç æ£€æŸ¥
```bash
cd app && ./gradlew lintDebug
```

## ğŸ“± æ··åˆå¼€å‘

### H5 é›†æˆ
- **WebView é…ç½®**: æ”¯æŒç°ä»£ Web æ ‡å‡†
- **JavaScript æ¡¥æ¥**: åŸç”Ÿä¸ Web é€šä¿¡
- **èµ„æºç®¡ç†**: æœ¬åœ°èµ„æºç¼“å­˜
- **æ€§èƒ½ä¼˜åŒ–**: WebView æ€§èƒ½è°ƒä¼˜

### åŸç”ŸåŠŸèƒ½
- **è®¾å¤‡è®¿é—®**: ç›¸æœºã€ä½ç½®ã€å­˜å‚¨ç­‰
- **ç³»ç»Ÿé›†æˆ**: é€šçŸ¥ã€åˆ†äº«ã€è®¾ç½®ç­‰
- **æ€§èƒ½ç›‘æ§**: åº”ç”¨æ€§èƒ½æŒ‡æ ‡
- **é”™è¯¯å¤„ç†**: å¼‚å¸¸æ•è·å’Œå¤„ç†

## ğŸ“ˆ é¡¹ç›®çŠ¶æ€

- âœ… **åŸºç¡€æ¶æ„**: å®Œæ•´çš„é¡¹ç›®ç»“æ„
- âœ… **æ··åˆå¼€å‘**: H5 é›†æˆæ”¯æŒ
- âœ… **æ„å»ºç³»ç»Ÿ**: Gradle é…ç½®å®Œæˆ
- âœ… **å¼€å‘å·¥å…·**: Android Studio æ”¯æŒ
- âœ… **æµ‹è¯•æ¡†æ¶**: å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•

## ğŸ”— ç›¸å…³é“¾æ¥

- [åº”ç”¨æ ¹ç›®å½•](../../apps/android-native/)
- [Gradle é…ç½®](../../apps/android-native/app/build.gradle)
- [è¿è¡Œè„šæœ¬](../../apps/android-native/run-android.sh)
- [ç§»åŠ¨ç«¯åº”ç”¨](../../apps/mobile/) - H5 ç§»åŠ¨ç«¯åº”ç”¨

## ğŸ“ å¼€å‘æ³¨æ„äº‹é¡¹

### æ€§èƒ½ä¼˜åŒ–
- åˆç†ä½¿ç”¨å†…å­˜ï¼Œé¿å…å†…å­˜æ³„æ¼
- ä¼˜åŒ– WebView æ€§èƒ½
- ä½¿ç”¨å¼‚æ­¥å¤„ç†é¿å… ANR

### å…¼å®¹æ€§
- æ”¯æŒ Android 6.0+ (API 23+)
- æµ‹è¯•ä¸åŒå±å¹•å°ºå¯¸
- å¤„ç†ä¸åŒ Android ç‰ˆæœ¬å·®å¼‚

### å®‰å…¨è€ƒè™‘
- ç½‘ç»œå®‰å…¨é…ç½®
- æ•°æ®åŠ å¯†å­˜å‚¨
- æƒé™ç®¡ç†

---

*æœ€åæ›´æ–°: 2025-01-03*
*ç»´æŠ¤è€…: AI Assistant*