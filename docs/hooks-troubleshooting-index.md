# Hooks é—®é¢˜å¿«é€Ÿç´¢å¼•

æœ¬æ–‡æ¡£ä¸ºæ‚¨æä¾›å¿«é€Ÿå®šä½å’Œè§£å†³ `@ai-code/hooks` ç›¸å…³é—®é¢˜çš„ç´¢å¼•ã€‚

## ğŸš¨ ç´§æ€¥é—®é¢˜å¿«é€Ÿè§£å†³

### æ¨¡å—æ‰¾ä¸åˆ°
```bash
Error: Cannot resolve module '@ai-code/hooks'
```
**å¿«é€Ÿè§£å†³**: æ£€æŸ¥ [æ¨¡å—è§£æé—®é¢˜](./hooks-migration-issues-solutions.md#1-æ¨¡å—è§£æé—®é¢˜)

### æ„å»ºå¤±è´¥
```bash
Error: Cannot find module '@ai-code/hooks/dist/index.js'
```
**å¿«é€Ÿè§£å†³**: æ£€æŸ¥ [æ„å»ºé¡ºåºé—®é¢˜](./hooks-migration-issues-solutions.md#2-æ„å»ºé¡ºåºé—®é¢˜)

### çƒ­é‡è½½ä¸å·¥ä½œ
å¼€å‘æ—¶ä¿®æ”¹hooksä»£ç ä¸ç”Ÿæ•ˆ
**å¿«é€Ÿè§£å†³**: æ£€æŸ¥ [çƒ­é‡è½½å¤±æ•ˆ](./hooks-migration-issues-solutions.md#3-çƒ­é‡è½½å¤±æ•ˆ)

### ç±»å‹é”™è¯¯
```bash
Type 'X' is not assignable to type 'Y'
```
**å¿«é€Ÿè§£å†³**: æ£€æŸ¥ [ç±»å‹å®šä¹‰å†²çª](./hooks-migration-issues-solutions.md#2-ç±»å‹å®šä¹‰å†²çª)

---

## ğŸ“š æŒ‰é—®é¢˜ç±»å‹åˆ†ç±»

### ğŸ”§ è¿ç§»é˜¶æ®µ
- [é‡å¤ä»£ç è¯†åˆ«å’Œç»Ÿä¸€](./hooks-migration-issues-solutions.md#1-é‡å¤ä»£ç è¯†åˆ«å’Œç»Ÿä¸€)
- [ç±»å‹å®šä¹‰å†²çª](./hooks-migration-issues-solutions.md#2-ç±»å‹å®šä¹‰å†²çª)
- [ä¾èµ–å…³ç³»æ¢³ç†](./hooks-migration-issues-solutions.md#3-ä¾èµ–å…³ç³»æ¢³ç†)

### ğŸ”— é›†æˆé˜¶æ®µ
- [æ¨¡å—è§£æé—®é¢˜](./hooks-migration-issues-solutions.md#1-æ¨¡å—è§£æé—®é¢˜)
- [æ„å»ºé¡ºåºé—®é¢˜](./hooks-migration-issues-solutions.md#2-æ„å»ºé¡ºåºé—®é¢˜)
- [çƒ­é‡è½½å¤±æ•ˆ](./hooks-migration-issues-solutions.md#3-çƒ­é‡è½½å¤±æ•ˆ)

### ğŸ“– æ–‡æ¡£åŒ–é˜¶æ®µ
- [Dumié…ç½®å†²çª](./hooks-migration-issues-solutions.md#1-dumié…ç½®å†²çª)
- [ç¤ºä¾‹ä»£ç æ‰§è¡Œé”™è¯¯](./hooks-migration-issues-solutions.md#2-ç¤ºä¾‹ä»£ç æ‰§è¡Œé”™è¯¯)
- [äº¤äº’å¼ç¤ºä¾‹å®ç°å›°éš¾](./hooks-migration-issues-solutions.md#3-äº¤äº’å¼ç¤ºä¾‹å®ç°å›°éš¾)

### ğŸ—ï¸ æ„å»ºæ‰“åŒ…
- [Fatheræ„å»ºé…ç½®ä¼˜åŒ–](./hooks-migration-issues-solutions.md#1-fatheræ„å»ºé…ç½®ä¼˜åŒ–)
- [ç±»å‹å®šä¹‰æ–‡ä»¶ç”Ÿæˆ](./hooks-migration-issues-solutions.md#2-ç±»å‹å®šä¹‰æ–‡ä»¶ç”Ÿæˆ)

### ğŸ”„ é¡¹ç›®ä¾èµ–
- [å¾ªç¯ä¾èµ–æ£€æµ‹](./hooks-migration-issues-solutions.md#1-å¾ªç¯ä¾èµ–æ£€æµ‹)
- [ç‰ˆæœ¬åŒæ­¥é—®é¢˜](./hooks-migration-issues-solutions.md#2-ç‰ˆæœ¬åŒæ­¥é—®é¢˜)

---

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤

### æ„å»ºç›¸å…³
```bash
# å•ç‹¬æ„å»ºhooksåŒ…
cd shared/hooks && pnpm build

# æ„å»ºæ‰€æœ‰ä¾èµ–hooksçš„é¡¹ç›®
pnpm -r --filter '@ai-code/hooks' build && pnpm -r build

# æ£€æŸ¥æ„å»ºç»“æœ
ls -la shared/hooks/dist/
```

### å¼€å‘è°ƒè¯•
```bash
# å¯åŠ¨hooksæ–‡æ¡£æœåŠ¡
cd shared/hooks && pnpm dev

# åŒæ—¶å¯åŠ¨å¤šä¸ªé¡¹ç›®è¿›è¡Œè°ƒè¯•
pnpm -r --parallel dev

# æ£€æŸ¥æ¨¡å—æ˜¯å¦æ­£ç¡®é“¾æ¥
pnpm list @ai-code/hooks
```

### ä¾èµ–æ£€æŸ¥
```bash
# æ£€æŸ¥å¾ªç¯ä¾èµ–
npx madge --circular --extensions ts,tsx shared/hooks/src

# æ£€æŸ¥ç±»å‹
cd shared/hooks && pnpm tsc --noEmit

# æ£€æŸ¥åŒ…ç‰ˆæœ¬ä¸€è‡´æ€§
pnpm list @ai-code/hooks --depth=0
```

---

## ğŸ” é—®é¢˜è¯Šæ–­æµç¨‹

### 1. ç¡®å®šé—®é¢˜ç±»å‹
- [ ] ç¼–è¯‘æ—¶é”™è¯¯ï¼ˆæ„å»ºå¤±è´¥ï¼‰
- [ ] è¿è¡Œæ—¶é”™è¯¯ï¼ˆé¡µé¢æŠ¥é”™ï¼‰  
- [ ] å¼€å‘ä½“éªŒé—®é¢˜ï¼ˆçƒ­é‡è½½ç­‰ï¼‰
- [ ] ç±»å‹æ£€æŸ¥é”™è¯¯

### 2. æ”¶é›†é”™è¯¯ä¿¡æ¯
- [ ] å®Œæ•´çš„é”™è¯¯å †æ ˆ
- [ ] å‘ç”Ÿé—®é¢˜çš„å…·ä½“æ­¥éª¤
- [ ] ç›¸å…³çš„é…ç½®æ–‡ä»¶å†…å®¹
- [ ] Node.jså’ŒåŒ…ç®¡ç†å™¨ç‰ˆæœ¬

### 3. æŒ‰ä¼˜å…ˆçº§æ’æŸ¥
1. **æ£€æŸ¥åŸºç¡€é…ç½®**ï¼šworkspaceã€tsconfigã€package.json
2. **éªŒè¯æ„å»ºäº§ç‰©**ï¼šç¡®è®¤hooksåŒ…å·²æ­£ç¡®æ„å»º
3. **æ£€æŸ¥å¯¼å…¥è·¯å¾„**ï¼šç¡®è®¤importè¯­å¥æ­£ç¡®
4. **éªŒè¯ç±»å‹å®šä¹‰**ï¼šç¡®è®¤TypeScriptç±»å‹æ— å†²çª

### 4. åº”ç”¨è§£å†³æ–¹æ¡ˆ
- å‚è€ƒ [å…·ä½“è§£å†³æ–¹æ¡ˆæ–‡æ¡£](./hooks-migration-issues-solutions.md)
- è¿è¡Œç›¸å…³çš„æ£€æŸ¥å‘½ä»¤
- é‡æ–°æ„å»ºå’Œæµ‹è¯•

---

## ğŸ“ è·å–å¸®åŠ©

### å†…éƒ¨èµ„æº
1. **è¯¦ç»†é—®é¢˜æ–‡æ¡£**: [hooks-migration-issues-solutions.md](./hooks-migration-issues-solutions.md)
2. **å®ç°æŒ‡å—**: [hooks-independence-guide.md](./hooks-independence-guide.md)
3. **æŠ€æœ¯æ€»ç»“**: [hooks-independence-implementation.md](./hooks-independence-implementation.md)

### é—®é¢˜æŠ¥å‘Š
å¦‚æœé‡åˆ°æ–‡æ¡£ä¸­æœªæ¶µç›–çš„é—®é¢˜ï¼š

1. **æ”¶é›†ä¿¡æ¯**ï¼š
   - é”™è¯¯æˆªå›¾/æ—¥å¿—
   - é‡ç°æ­¥éª¤
   - ç¯å¢ƒä¿¡æ¯ï¼ˆNode.jsç‰ˆæœ¬ã€æ“ä½œç³»ç»Ÿç­‰ï¼‰

2. **æŸ¥æ‰¾ç›¸ä¼¼é—®é¢˜**ï¼š
   - æœç´¢ç°æœ‰æ–‡æ¡£
   - æ£€æŸ¥é¡¹ç›®issueå†å²

3. **æŠ¥å‘Šé—®é¢˜**ï¼š
   - åˆ›å»ºè¯¦ç»†çš„é—®é¢˜æŠ¥å‘Š
   - æä¾›æœ€å°é‡ç°ç¤ºä¾‹
   - è¯´æ˜æœŸæœ›çš„è¡Œä¸º

---

## ğŸ¯ é¢„é˜²æªæ–½

### å¼€å‘æœ€ä½³å®è·µ
- âœ… ä¿®æ”¹hooksä»£ç å‰å…ˆè¿è¡Œæµ‹è¯•
- âœ… ä¿æŒworkspaceé…ç½®åŒæ­¥
- âœ… å®šæœŸæ£€æŸ¥ä¾èµ–ç‰ˆæœ¬ä¸€è‡´æ€§
- âœ… åŠæ—¶æ›´æ–°æ–‡æ¡£å’Œç±»å‹å®šä¹‰

### ç›‘æ§æ£€æŸ¥
- âœ… è®¾ç½®CI/CDæ£€æŸ¥hooksæ„å»º
- âœ… å®šæœŸè¿è¡Œå¾ªç¯ä¾èµ–æ£€æŸ¥
- âœ… ç›‘æ§åŒ…ä½“ç§¯å˜åŒ–
- âœ… éªŒè¯å‘åå…¼å®¹æ€§

---

**æœ€åæ›´æ–°**: 2024å¹´7æœˆ
**ç»´æŠ¤**: AI-Codeå¼€å‘å›¢é˜Ÿ 