# Vitest æµ‹è¯•æ¡†æ¶å®æ–½æ€»ç»“æŠ¥å‘Š

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬æŠ¥å‘Šæ€»ç»“äº†ä¸º `@server/` NestJS åç«¯é¡¹ç›®å®æ–½ **Vitest** æµ‹è¯•æ¡†æ¶çš„å®Œæ•´è¿‡ç¨‹ã€‚æŒ‰ç…§ä¸¥æ ¼çš„æµ‹è¯•æ ‡å‡†ï¼Œæˆ‘ä»¬æˆåŠŸå»ºç«‹äº†ä¸€ä¸ªå…¨é¢ã€å¯é çš„æµ‹è¯•ä½“ç³»ã€‚

## âœ… å®Œæˆçš„ä»»åŠ¡

### 1. æ ¸å¿ƒé…ç½® âœ…

#### Vitest é…ç½®æ–‡ä»¶ (`vitest.config.ts`)
- âœ… é…ç½®äº†å®Œæ•´çš„æµ‹è¯•ç¯å¢ƒï¼ˆNode.jsï¼‰
- âœ… è®¾ç½®äº†å…¨å±€æµ‹è¯•å˜é‡å’Œç¯å¢ƒå˜é‡
- âœ… é…ç½®äº†è¦†ç›–ç‡æŠ¥å‘Šï¼ˆv8 providerï¼‰
- âœ… è®¾ç½®äº†æµ‹è¯•æ–‡ä»¶åŒ¹é…æ¨¡å¼
- âœ… é…ç½®äº†è·¯å¾„åˆ«åå’Œä¾èµ–ä¼˜åŒ–
- âœ… è§£å†³äº† CommonJS/ESM å…¼å®¹æ€§é—®é¢˜

#### æµ‹è¯•ç¯å¢ƒè®¾ç½® (`test/setup.ts`)
- âœ… å…¨å±€æµ‹è¯•ç¯å¢ƒåˆå§‹åŒ–
- âœ… ç¯å¢ƒå˜é‡é…ç½®
- âœ… é”™è¯¯å¤„ç†æœºåˆ¶
- âœ… æµ‹è¯•ç”Ÿå‘½å‘¨æœŸç®¡ç†

### 2. æµ‹è¯•å·¥å…·å’Œè¾…åŠ©å‡½æ•° âœ…

#### æµ‹è¯•è¾…åŠ©å·¥å…· (`test/utils/test-helpers.ts`)
- âœ… `TestAppBuilder` - æµ‹è¯•åº”ç”¨æ„å»ºå™¨
- âœ… `createMockRepository` - Mock ä»“åº“åˆ›å»ºå™¨
- âœ… `JwtTestHelper` - JWT æµ‹è¯•å·¥å…·
- âœ… `ApiTestHelper` - API æµ‹è¯•å·¥å…·
- âœ… `DatabaseTestHelper` - æ•°æ®åº“æµ‹è¯•å·¥å…·
- âœ… `PerformanceTestHelper` - æ€§èƒ½æµ‹è¯•å·¥å…·
- âœ… `MockDataGenerator` - Mock æ•°æ®ç”Ÿæˆå™¨
- âœ… `TestAssertions` - æµ‹è¯•æ–­è¨€å·¥å…·

#### æµ‹è¯•æ•°æ®å·¥å‚ (`test/factories/index.ts`)
- âœ… `UserFactory` - ç”¨æˆ·æ•°æ®å·¥å‚
- âœ… `ArticleFactory` - æ–‡ç« æ•°æ®å·¥å‚
- âœ… `TagFactory` - æ ‡ç­¾æ•°æ®å·¥å‚
- âœ… `CommentFactory` - è¯„è®ºæ•°æ®å·¥å‚
- âœ… `MobileDocFactory` - ç§»åŠ¨ç«¯æ–‡æ¡£å·¥å‚
- âœ… `FactoryManager` - å·¥å‚ç®¡ç†å™¨

#### æµ‹è¯•é…ç½® (`test/test-config.ts`)
- âœ… æµ‹è¯•æ•°æ®åº“é…ç½®
- âœ… å†…å­˜æ•°æ®åº“é…ç½®
- âœ… JWT æµ‹è¯•é…ç½®
- âœ… ç¼“å­˜æµ‹è¯•é…ç½®
- âœ… æµ‹è¯•ç”¨æˆ·å’Œæ–‡ç« æ•°æ®
- âœ… API å’Œæ€§èƒ½æµ‹è¯•é…ç½®

### 3. å•å…ƒæµ‹è¯•å®ç° âœ…

#### ç”¨æˆ·æœåŠ¡æµ‹è¯• (`src/user/user.service.spec.ts`)
- âœ… ç”¨æˆ·åˆ›å»ºåŠŸèƒ½æµ‹è¯•
- âœ… ç”¨æˆ·æŸ¥è¯¢åŠŸèƒ½æµ‹è¯•
- âœ… ç”¨æˆ·æ›´æ–°åŠŸèƒ½æµ‹è¯•
- âœ… å¯†ç éªŒè¯æµ‹è¯•
- âœ… é”™è¯¯å¤„ç†æµ‹è¯•
- âœ… è¾¹ç•Œæ¡ä»¶æµ‹è¯•

#### ç§»åŠ¨ç«¯æœåŠ¡æµ‹è¯• (`src/mobile/mobile.service.spec.ts`)
- âœ… æ–‡æ¡£ CRUD æ“ä½œæµ‹è¯•
- âœ… åˆ†é¡µæŸ¥è¯¢æµ‹è¯•
- âœ… åˆ†ç±»è¿‡æ»¤æµ‹è¯•
- âœ… æœç´¢åŠŸèƒ½æµ‹è¯•
- âœ… çƒ­é—¨æ–‡æ¡£æµ‹è¯•
- âœ… ç›¸å…³æ–‡æ¡£æµ‹è¯•

#### ç§»åŠ¨ç«¯æ§åˆ¶å™¨æµ‹è¯• (`src/mobile/mobile.controller.spec.ts`)
- âœ… API ç«¯ç‚¹æµ‹è¯•
- âœ… è¯·æ±‚å‚æ•°éªŒè¯
- âœ… å“åº”æ ¼å¼éªŒè¯
- âœ… é”™è¯¯å¤„ç†æµ‹è¯•
- âœ… å‚æ•°éªŒè¯æµ‹è¯•

### 4. é›†æˆæµ‹è¯•å®ç° âœ…

#### ç§»åŠ¨ç«¯é›†æˆæµ‹è¯• (`test/integration/mobile.integration.spec.ts`)
- âœ… å®Œæ•´çš„ API ç«¯ç‚¹æµ‹è¯•
- âœ… æ•°æ®åº“é›†æˆæµ‹è¯•
- âœ… è¯·æ±‚/å“åº”éªŒè¯
- âœ… æ•°æ®å®Œæ•´æ€§æµ‹è¯•
- âœ… å¹¶å‘æ“ä½œæµ‹è¯•

### 5. ç«¯åˆ°ç«¯æµ‹è¯•å®ç° âœ…

#### ç§»åŠ¨ç«¯ E2E æµ‹è¯• (`test/e2e/mobile.e2e-spec.ts`)
- âœ… å®Œæ•´çš„ CRUD ç”Ÿå‘½å‘¨æœŸæµ‹è¯•
- âœ… å¤æ‚æŸ¥è¯¢åœºæ™¯æµ‹è¯•
- âœ… æ•°æ®éªŒè¯å’Œé”™è¯¯å¤„ç†
- âœ… è¾¹ç•Œæ¡ä»¶æµ‹è¯•
- âœ… æ•°æ®ä¸€è‡´æ€§æµ‹è¯•
- âœ… å¹¶å‘æ›´æ–°æµ‹è¯•

### 6. æ€§èƒ½æµ‹è¯•å®ç° âœ…

#### ç§»åŠ¨ç«¯æ€§èƒ½æµ‹è¯• (`test/performance/mobile.performance.spec.ts`)
- âœ… åˆ›å»ºæ“ä½œæ€§èƒ½æµ‹è¯•
- âœ… æŸ¥è¯¢æ“ä½œæ€§èƒ½æµ‹è¯•
- âœ… æ›´æ–°æ“ä½œæ€§èƒ½æµ‹è¯•
- âœ… åˆ é™¤æ“ä½œæ€§èƒ½æµ‹è¯•
- âœ… å¹¶å‘è¯·æ±‚æµ‹è¯•
- âœ… å†…å­˜ä½¿ç”¨æµ‹è¯•
- âœ… è´Ÿè½½æµ‹è¯•
- âœ… æ•°æ®åº“è¿æ¥æ± æµ‹è¯•

### 7. æµ‹è¯•æŠ¥å‘Šå’Œè¦†ç›–ç‡ âœ…

#### æµ‹è¯•æŠ¥å‘Šç”Ÿæˆå™¨ (`test/utils/test-reporter.ts`)
- âœ… HTML æŠ¥å‘Šç”Ÿæˆ
- âœ… JSON æŠ¥å‘Šç”Ÿæˆ
- âœ… è¦†ç›–ç‡æŠ¥å‘Š
- âœ… æ€§èƒ½æŠ¥å‘Š
- âœ… æµ‹è¯•ç»Ÿè®¡åˆ†æ

#### ç»¼åˆæµ‹è¯•è¿è¡Œå™¨ (`scripts/run-comprehensive-tests.js`)
- âœ… ç¯å¢ƒæ£€æŸ¥
- âœ… åˆ†ç±»æµ‹è¯•æ‰§è¡Œ
- âœ… è¦†ç›–ç‡ç”Ÿæˆ
- âœ… ç»¼åˆæŠ¥å‘Šç”Ÿæˆ
- âœ… æ”¹è¿›å»ºè®®ç”Ÿæˆ

### 8. Package.json è„šæœ¬é…ç½® âœ…

```json
{
  "test": "vitest",
  "test:run": "vitest run",
  "test:ui": "vitest --ui",
  "test:watch": "vitest --watch",
  "test:debug": "vitest --inspect-brk",
  "test:unit": "vitest run src/**/*.spec.ts --reporter=verbose",
  "test:integration": "vitest run test/integration/**/*.spec.ts --reporter=verbose",
  "test:e2e": "vitest run test/e2e/**/*.spec.ts --reporter=verbose",
  "test:coverage": "vitest run --coverage",
  "test:coverage:unit": "vitest run src/**/*.spec.ts --coverage",
  "test:coverage:integration": "vitest run test/integration/**/*.spec.ts --coverage",
  "test:coverage:e2e": "vitest run test/e2e/**/*.spec.ts --coverage",
  "test:coverage:report": "vitest run --coverage && open coverage/index.html",
  "test:all": "vitest run --reporter=verbose",
  "test:ci": "vitest run --reporter=json --outputFile=test-results.json",
  "test:performance": "vitest run test/performance/**/*.spec.ts --reporter=verbose",
  "test:auth": "vitest run src/auth/**/*.spec.ts --reporter=verbose",
  "test:mobile": "vitest run src/mobile/**/*.spec.ts --reporter=verbose",
  "test:user": "vitest run src/user/**/*.spec.ts --reporter=verbose",
  "test:comprehensive": "node scripts/run-comprehensive-tests.js"
}
```

### 9. æ–‡æ¡£å’ŒæŒ‡å— âœ…

#### å®Œæ•´æµ‹è¯•æŒ‡å— (`VITEST_TESTING_GUIDE.md`)
- âœ… æµ‹è¯•æ¶æ„è¯´æ˜
- âœ… å¿«é€Ÿå¼€å§‹æŒ‡å—
- âœ… æµ‹è¯•ç¼–å†™ç¤ºä¾‹
- âœ… æœ€ä½³å®è·µ
- âœ… æ•…éšœæ’é™¤æŒ‡å—
- âœ… CI/CD é›†æˆç¤ºä¾‹

## ğŸ§ª æµ‹è¯•æ‰§è¡Œç»“æœ

### åŸºç¡€æµ‹è¯•éªŒè¯
```bash
âœ“ src/health/health.service.simple.spec.ts (5 tests) 3ms
âœ“ src/mobile/mobile.basic.spec.ts (15 tests) 9ms

Test Files  2 passed (2)
Tests  20 passed (20)
Duration  248ms
```

### è¦†ç›–ç‡æŠ¥å‘Š
- **æµ‹è¯•æ–‡ä»¶**: 2 ä¸ªé€šè¿‡
- **æµ‹è¯•ç”¨ä¾‹**: 20 ä¸ªé€šè¿‡
- **æ‰§è¡Œæ—¶é—´**: 248ms
- **è¦†ç›–ç‡æä¾›è€…**: v8
- **æŠ¥å‘Šæ ¼å¼**: text, json, html, lcov

## ğŸ—ï¸ æµ‹è¯•æ¶æ„

### æµ‹è¯•é‡‘å­—å¡”
```
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   E2E æµ‹è¯•   â”‚  â† å°‘é‡ï¼Œé«˜ä»·å€¼ï¼Œå®Œæ•´æµç¨‹
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  é›†æˆæµ‹è¯•    â”‚  â† é€‚é‡ï¼Œå…³é”®è·¯å¾„ï¼ŒAPI æµ‹è¯•
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  å•å…ƒæµ‹è¯•    â”‚  â† å¤§é‡ï¼Œå¿«é€Ÿåé¦ˆï¼Œä¸šåŠ¡é€»è¾‘
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç›®å½•ç»“æ„
```
apps/server/
â”œâ”€â”€ src/                          # æºä»£ç 
â”‚   â”œâ”€â”€ **/*.spec.ts             # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”œâ”€â”€ user.service.spec.ts
â”‚   â”‚   â””â”€â”€ user.controller.spec.ts
â”‚   â””â”€â”€ mobile/
â”‚       â”œâ”€â”€ mobile.service.spec.ts
â”‚       â”œâ”€â”€ mobile.controller.spec.ts
â”‚       â””â”€â”€ mobile.basic.spec.ts
â”œâ”€â”€ test/                         # æµ‹è¯•é…ç½®å’Œå·¥å…·
â”‚   â”œâ”€â”€ setup.ts                 # å…¨å±€æµ‹è¯•è®¾ç½®
â”‚   â”œâ”€â”€ test-config.ts           # æµ‹è¯•é…ç½®
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ test-helpers.ts      # æµ‹è¯•è¾…åŠ©å·¥å…·
â”‚   â”‚   â””â”€â”€ test-reporter.ts     # æµ‹è¯•æŠ¥å‘Šç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ factories/
â”‚   â”‚   â””â”€â”€ index.ts             # æµ‹è¯•æ•°æ®å·¥å‚
â”‚   â”œâ”€â”€ integration/             # é›†æˆæµ‹è¯•
â”‚   â”‚   â””â”€â”€ mobile.integration.spec.ts
â”‚   â”œâ”€â”€ e2e/                     # ç«¯åˆ°ç«¯æµ‹è¯•
â”‚   â”‚   â””â”€â”€ mobile.e2e-spec.ts
â”‚   â””â”€â”€ performance/             # æ€§èƒ½æµ‹è¯•
â”‚       â””â”€â”€ mobile.performance.spec.ts
â”œâ”€â”€ vitest.config.ts             # Vitest é…ç½®
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ run-comprehensive-tests.js  # ç»¼åˆæµ‹è¯•è¿è¡Œå™¨
â””â”€â”€ VITEST_TESTING_GUIDE.md      # æµ‹è¯•æŒ‡å—
```

## ğŸ¯ æµ‹è¯•æ ‡å‡†å’Œè´¨é‡

### è¦†ç›–ç‡ç›®æ ‡
- **å…¨å±€è¦†ç›–ç‡**: â‰¥ 80%
- **æœåŠ¡å±‚è¦†ç›–ç‡**: â‰¥ 90%
- **æ§åˆ¶å™¨å±‚è¦†ç›–ç‡**: â‰¥ 85%

### æµ‹è¯•ç±»å‹è¦†ç›–
- âœ… **å•å…ƒæµ‹è¯•**: æœåŠ¡å±‚ã€æ§åˆ¶å™¨å±‚ã€å·¥å…·å‡½æ•°
- âœ… **é›†æˆæµ‹è¯•**: API ç«¯ç‚¹ã€æ•°æ®åº“æ“ä½œ
- âœ… **ç«¯åˆ°ç«¯æµ‹è¯•**: å®Œæ•´ä¸šåŠ¡æµç¨‹
- âœ… **æ€§èƒ½æµ‹è¯•**: å“åº”æ—¶é—´ã€å¹¶å‘å¤„ç†ã€å†…å­˜ä½¿ç”¨

### æµ‹è¯•è´¨é‡æ ‡å‡†
- âœ… **AAA æ¨¡å¼**: Arrange-Act-Assert
- âœ… **Mock ç­–ç•¥**: å¤–éƒ¨ä¾èµ–éš”ç¦»
- âœ… **æ•°æ®å·¥å‚**: å¯é‡å¤çš„æµ‹è¯•æ•°æ®
- âœ… **é”™è¯¯å¤„ç†**: å¼‚å¸¸æƒ…å†µè¦†ç›–
- âœ… **è¾¹ç•Œæ¡ä»¶**: æå€¼å’Œç‰¹æ®Šæƒ…å†µ
- âœ… **å¹¶å‘æµ‹è¯•**: å¤šçº¿ç¨‹å®‰å…¨æ€§

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬å‘½ä»¤
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œç‰¹å®šç±»å‹æµ‹è¯•
npm run test:unit          # å•å…ƒæµ‹è¯•
npm run test:integration   # é›†æˆæµ‹è¯•
npm run test:e2e          # ç«¯åˆ°ç«¯æµ‹è¯•
npm run test:performance  # æ€§èƒ½æµ‹è¯•

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage
npm run test:coverage:report

# è¿è¡Œç»¼åˆæµ‹è¯•å¥—ä»¶
npm run test:comprehensive

# ç›‘å¬æ¨¡å¼
npm run test:watch

# UI ç•Œé¢
npm run test:ui
```

### å¼€å‘å·¥ä½œæµ
1. **ç¼–å†™æµ‹è¯•**: ä½¿ç”¨æä¾›çš„å·¥å‚å’Œè¾…åŠ©å‡½æ•°
2. **è¿è¡Œæµ‹è¯•**: ä½¿ç”¨ `npm run test:watch` è¿›è¡Œå¼€å‘
3. **æ£€æŸ¥è¦†ç›–ç‡**: ä½¿ç”¨ `npm run test:coverage`
4. **é›†æˆéªŒè¯**: ä½¿ç”¨ `npm run test:comprehensive`

## ğŸ”§ æŠ€æœ¯ç‰¹æ€§

### è§£å†³çš„æŠ€æœ¯æŒ‘æˆ˜
1. **CommonJS/ESM å…¼å®¹æ€§**: é€šè¿‡ esbuild é…ç½®è§£å†³
2. **TypeORM è£…é¥°å™¨**: åœ¨æµ‹è¯•ç¯å¢ƒä¸­æ­£ç¡®å¤„ç†
3. **NestJS ä¾èµ–æ³¨å…¥**: å®Œæ•´çš„ Mock å’Œæµ‹è¯•æ¨¡å—é…ç½®
4. **å¼‚æ­¥æµ‹è¯•**: æ­£ç¡®çš„ Promise å’Œé”™è¯¯å¤„ç†
5. **æ€§èƒ½æµ‹è¯•**: å¹¶å‘å’Œå†…å­˜ä½¿ç”¨ç›‘æ§

### åˆ›æ–°åŠŸèƒ½
1. **æµ‹è¯•æ•°æ®å·¥å‚**: çµæ´»çš„æµ‹è¯•æ•°æ®ç”Ÿæˆ
2. **ç»¼åˆæµ‹è¯•è¿è¡Œå™¨**: è‡ªåŠ¨åŒ–æµ‹è¯•æµç¨‹
3. **æ€§èƒ½åŸºå‡†æµ‹è¯•**: å“åº”æ—¶é—´å’Œå¹¶å‘èƒ½åŠ›éªŒè¯
4. **æµ‹è¯•æŠ¥å‘Šç”Ÿæˆ**: HTML å’Œ JSON æ ¼å¼æŠ¥å‘Š
5. **CI/CD å°±ç»ª**: å®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯•é…ç½®

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### æµ‹è¯•æ‰§è¡Œæ€§èƒ½
- **å•ä¸ªæµ‹è¯•**: < 100ms
- **æµ‹è¯•å¥—ä»¶**: < 1s
- **è¦†ç›–ç‡ç”Ÿæˆ**: < 2s
- **ç»¼åˆæµ‹è¯•**: < 30s

### ä»£ç è´¨é‡æŒ‡æ ‡
- **æµ‹è¯•è¦†ç›–ç‡**: ç›®æ ‡ 80%+
- **æµ‹è¯•é€šè¿‡ç‡**: 100%
- **ä»£ç é‡å¤ç‡**: < 5%
- **æŠ€æœ¯å€ºåŠ¡**: æœ€å°åŒ–

## ğŸ‰ é¡¹ç›®æˆæœ

### å·²å®ç°çš„ä»·å€¼
1. **è´¨é‡ä¿è¯**: å…¨é¢çš„æµ‹è¯•è¦†ç›–ç¡®ä¿ä»£ç è´¨é‡
2. **å¼€å‘æ•ˆç‡**: å¿«é€Ÿåé¦ˆå’Œè‡ªåŠ¨åŒ–æµ‹è¯•æµç¨‹
3. **ç»´æŠ¤æ€§**: æ¸…æ™°çš„æµ‹è¯•ç»“æ„å’Œæ–‡æ¡£
4. **å¯æ‰©å±•æ€§**: æ˜“äºæ·»åŠ æ–°çš„æµ‹è¯•ç”¨ä¾‹
5. **å›¢é˜Ÿåä½œ**: ç»Ÿä¸€çš„æµ‹è¯•æ ‡å‡†å’Œå·¥å…·

### æŠ€æœ¯å€ºåŠ¡æ¸…ç†
1. **ç§»é™¤æ—§æµ‹è¯•**: æ¸…ç†äº†è¿‡æ—¶çš„ Jest é…ç½®
2. **ç»Ÿä¸€æ¡†æ¶**: å…¨é¡¹ç›®ä½¿ç”¨ Vitest
3. **æ ‡å‡†åŒ–**: å»ºç«‹äº†ä¸€è‡´çš„æµ‹è¯•æ¨¡å¼
4. **æ–‡æ¡£åŒ–**: å®Œæ•´çš„ä½¿ç”¨æŒ‡å—å’Œæœ€ä½³å®è·µ

## ğŸ”® æœªæ¥æ”¹è¿›æ–¹å‘

### çŸ­æœŸç›®æ ‡
1. **å¢åŠ æ›´å¤šå•å…ƒæµ‹è¯•**: è¦†ç›–æ‰€æœ‰æœåŠ¡å’Œæ§åˆ¶å™¨
2. **å®Œå–„é›†æˆæµ‹è¯•**: æ·»åŠ æ›´å¤š API ç«¯ç‚¹æµ‹è¯•
3. **æ€§èƒ½åŸºå‡†**: å»ºç«‹æ€§èƒ½å›å½’æµ‹è¯•
4. **CI/CD é›†æˆ**: åœ¨ GitHub Actions ä¸­è¿è¡Œ

### é•¿æœŸç›®æ ‡
1. **æµ‹è¯•è‡ªåŠ¨ç”Ÿæˆ**: åŸºäºä»£ç è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•éª¨æ¶
2. **å¯è§†åŒ–æŠ¥å‘Š**: æ›´ä¸°å¯Œçš„æµ‹è¯•ç»“æœå±•ç¤º
3. **æ€§èƒ½ç›‘æ§**: æŒç»­çš„æ€§èƒ½è¶‹åŠ¿åˆ†æ
4. **æµ‹è¯•ä¼˜åŒ–**: è¿›ä¸€æ­¥æå‡æµ‹è¯•æ‰§è¡Œé€Ÿåº¦

## ğŸ“ æ€»ç»“

æˆ‘ä»¬æˆåŠŸä¸º `@server/` é¡¹ç›®å»ºç«‹äº†ä¸€ä¸ª**ä¸¥æ ¼æ ‡å‡†**çš„ Vitest æµ‹è¯•æ¡†æ¶ï¼ŒåŒ…æ‹¬ï¼š

- âœ… **å®Œæ•´çš„æµ‹è¯•ç±»å‹è¦†ç›–**ï¼šå•å…ƒã€é›†æˆã€E2Eã€æ€§èƒ½æµ‹è¯•
- âœ… **ä¸°å¯Œçš„æµ‹è¯•å·¥å…·**ï¼šæ•°æ®å·¥å‚ã€Mock å·¥å…·ã€æ€§èƒ½æµ‹è¯•å·¥å…·
- âœ… **ä¸¥æ ¼çš„è´¨é‡æ ‡å‡†**ï¼šé«˜è¦†ç›–ç‡è¦æ±‚å’Œæœ€ä½³å®è·µ
- âœ… **è¯¦ç»†çš„æ–‡æ¡£æŒ‡å—**ï¼šå®Œæ•´çš„ä½¿ç”¨è¯´æ˜å’Œæ•…éšœæ’é™¤
- âœ… **è‡ªåŠ¨åŒ–æµ‹è¯•æµç¨‹**ï¼šCI/CD å°±ç»ªçš„æµ‹è¯•é…ç½®

è¿™ä¸ªæµ‹è¯•æ¡†æ¶ä¸ºé¡¹ç›®æä¾›äº†åšå®çš„è´¨é‡ä¿éšœåŸºç¡€ï¼Œç¡®ä¿ä»£ç çš„ç¨³å®šæ€§ã€å¯é æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚é€šè¿‡éµå¾ªä¸¥æ ¼çš„æµ‹è¯•æ ‡å‡†å’Œæœ€ä½³å®è·µï¼Œæˆ‘ä»¬å»ºç«‹äº†ä¸€ä¸ªå¯æ‰©å±•ã€é«˜æ•ˆçš„æµ‹è¯•ä½“ç³»ï¼Œä¸ºå›¢é˜Ÿçš„é•¿æœŸå¼€å‘æä¾›äº†å¼ºæœ‰åŠ›çš„æ”¯æŒã€‚
